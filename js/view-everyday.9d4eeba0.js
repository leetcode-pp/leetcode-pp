(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-everyday"],{"22c7":function(t,e,a){"use strict";a("522c")},"522c":function(t,e,a){},"975f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"max-width-600-center"},[t.hasError?a("a-alert",{attrs:{message:"很抱歉，目前请求无法执行，请稍候再试。",type:"error"}}):t._e()],1),a("div",[a("form",{staticStyle:{"max-width":"600px",margin:"20px auto",display:"flex"},on:{submit:t.searchAndUpdate}},[a("a-input",{staticStyle:{width:"auto",flex:"1"},attrs:{value:t.keyword,type:"text",placeholder:"搜索关键字"},on:{input:t.handleInputChange}}),a("div",{staticClass:"drown-wrapper"},[a("a-dropdown",{attrs:{trigger:["click"]}},[a("a",{staticClass:"ant-dropdown-link",attrs:{href:"#"}},[t._v(" "+t._s(t.label||"标签")+" "),a("a-icon",{attrs:{type:"caret-down"}})],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",[a("a",{on:{click:t.handleClearTagSelect}},[t._v(" 清除 ")])]),t._l(t.tags,(function(e,n){return a("a-menu-item",{key:n},[a("a",{on:{click:t.handleTagSelect}},[t._v(t._s(e.name))])])}))],2)],1)],1),a("div",{staticClass:"submit-container",staticStyle:{width:"60px","margin-left":"10px"}},[a("a-button",{on:{click:t.searchAndUpdate}},[t._v(" 搜索 ")])],1)],1),t._l(t.tags,(function(t){return a("div",{key:t.id})})),a("a-table",{staticStyle:{"max-width":"1280px",margin:"0 auto","box-sizing":"content-box"},attrs:{columns:t.columns,rowKey:function(t){return t.id},dataSource:t.data,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"name",fn:function(e){return[a("router-link",{attrs:{to:"/everyday/"+e.number}},[t._v(" "+t._s(e.title)+" ")])]}},{key:"tags",fn:function(e){return t._l(e,(function(e){return a("a-tag",{key:e.id,attrs:{color:t.assignTagColor(e.name)},on:{click:t.handleTagClick}},[t._v(" "+t._s(e.name)+" ")])}))}},{key:"locked",fn:function(e){return[t._v(" "+t._s(e?"🔒":"")+" ")]}}])})],2)])},r=[],o=a("5530"),c=a("1da1"),i=(a("99af"),a("d81d"),a("caad"),a("2532"),a("ac1f"),a("5319"),a("96cf"),a("d1ef")),s=[{title:"题名",dataIndex:"titleAndUrl",width:"40%",scopedSlots:{customRender:"name"}},{title:"标签",dataIndex:"labels",scopedSlots:{customRender:"tags"},width:"40%"},{title:"🔒",dataIndex:"locked",scopedSlots:{customRender:"locked"}}],u=20,l={components:{},computed:{},data:function(){return{hasError:!1,keyword:"",problems:[],data:[],pagination:{defaultPageSize:u,total:0},loading:!1,columns:s,tags:[],label:""}},methods:{handleClearTagSelect:function(){this.label=""},getAllLabels:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i["b"])("https://api.github.com/repos/azl397985856/leetcode/labels");case 3:a=e.sent,t.tags=a,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.showError();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},showError:function(){var t=this;this.hasError=!0,setTimeout((function(){t.hasError=!1}),5e3)},assignTagColor:function(t){switch(t){case"Daily Question":return"volcano";case"Easy":return"green";case"LeetCode":return"purple";case"Medium":return"cyan";case"Hard":return"brown";default:return"#bbb"}},handleInputChange:function(t){this.keyword=t.target.value},handleTagSelect:function(t){var e=t.target.innerText;this.label=e},handleTagClick:function(t){var e=t.target.innerText;this.label=e,this.loadData(0,this.label)},searchAndUpdate:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.preventDefault(),e.loadData(0,e.label);case 2:case"end":return a.stop()}}),a)})))()},getProblems:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e,a,n){var r,c,s,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={params:{state:"all",page:e,per_page:u}},a=a?'+"'.concat(a,'"'):"",c=encodeURI("https://api.github.com/search/issues?q=【每日一题】 ".concat(a).concat(n||"","+repo:azl397985856/leetcode")),t.next=5,Object(i["b"])(c,r);case 5:return s=t.sent,l=s.items,d=s.total_count,t.abrupt("return",{data:l.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{locked:t.title.includes("🔒"),titleAndUrl:{title:t.title.replace("【每日一题】- ",""),url:t.html_url,number:t.number}})})),totalCount:d});case 9:case"end":return t.stop()}}),t)})));function e(e,a,n){return t.apply(this,arguments)}return e}(),loadData:function(t,e){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.loading=!0,n.prev=1,n.next=4,a.getProblems(t||0,a.keyword,e?'+label:"'.concat(e,'"'):"");case 4:r=n.sent,c=r.data,i=r.totalCount,a.data=c.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{title:t.title.replace("【每日一题】- ","")})})),a.pagination.total=i,a.pagination.showTotal=function(t){return"共 ".concat(t," 条")},a.loading=!1,n.next=17;break;case 13:n.prev=13,n.t0=n["catch"](1),a.showError(),a.loading=!1;case 17:case"end":return n.stop()}}),n,null,[[1,13]])})))()},handleTableChange:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=t.current,e.loadData(n,e.label?e.label:"");case 2:case"end":return a.stop()}}),a)})))()}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.loadData(0,this.label),this.getAllLabels();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},d=l,p=(a("22c7"),a("2877")),h=Object(p["a"])(d,n,r,!1,null,"781df05e",null);e["default"]=h.exports},"97af":function(t,e,a){"use strict";a("3b18");var n=a("f64c"),r=a("5530"),o=(a("99af"),a("bc3a")),c=a.n(o),i=a("f121"),s="https://".concat(i["hostname"]),u={};e["a"]=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a="".concat(s).concat(e.url),o=!e.method||"GET"===e.method.toUpperCase(),i="";if(o&&(i="".concat(a,"-").concat(JSON.stringify(e.params)),i in u))return u[i];var l=e.headers||{},d=null;try{d=JSON.parse(window.localStorage.getItem("token"))}catch(h){}d&&(new Date).getTime()>=d.expireAt&&window.localStorage.removeItem("token");var p=c()(Object(r["a"])(Object(r["a"])({},e),{},{headers:Object(r["a"])(Object(r["a"])({},l),{},{token:(null===(t=d)||void 0===t?void 0:t.value)||"empty"}),withCredentials:!0,url:a})).then((function(t){return t.data})).then((function(t){if(t.success)return t.data;throw t})).catch((function(t){throw n["a"].error(t.message||"系统开小差~"),t}));return o&&(u[i]=p),p}},d1ef:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return c}));var n=a("5530"),r=a("97af");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r["a"])({url:"/api/v1/github/content",params:Object(n["a"])({url:t},e.params)})}function c(){return Object(r["a"])({url:"/api/v1/github/comment-app"})}},d81d:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").map,o=a("1dde"),c=o("map");n({target:"Array",proto:!0,forced:!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=view-everyday.9d4eeba0.js.map