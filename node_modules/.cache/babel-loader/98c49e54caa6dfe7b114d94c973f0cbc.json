{"remainingRequest":"/Users/luxiaopeng/github/leetcode-pp/node_modules/thread-loader/dist/cjs.js!/Users/luxiaopeng/github/leetcode-pp/node_modules/babel-loader/lib/index.js!/Users/luxiaopeng/github/leetcode-pp/node_modules/eslint-loader/index.js??ref--13-0!/Users/luxiaopeng/github/leetcode-pp/src/utils/storage.js","dependencies":[{"path":"/Users/luxiaopeng/github/leetcode-pp/src/utils/storage.js","mtime":1648364288749},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/cache-loader/dist/cjs.js","mtime":1582876651155},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/thread-loader/dist/cjs.js","mtime":1582876651885},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/babel-loader/lib/index.js","mtime":1614915260754},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/eslint-loader/index.js","mtime":1584094539526}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvbHV4aWFvcGVuZy9naXRodWIvbGVldGNvZGUtcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwp2YXIgcmFwaWRLZXkgPSBwcm9jZXNzLmVudi5yYXBpZEtleSB8fCAnOGJlOTAyZDc2N21zaGY1ZDIzMmQ2Yjc4MTA4NHAxNjYyMTdqc24zODJhYmU4MzQzNGYnOwpleHBvcnQgZnVuY3Rpb24gZ2V0U3RvcmFnZShrKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHRyeSB7CiAgICAgIGlmICh3aW5kb3cuY2hyb21lICYmIHdpbmRvdy5jaHJvbWUuc3RvcmFnZSkgewogICAgICAgIHdpbmRvdy5jaHJvbWUuc3RvcmFnZS5nZXQoW2tdLCByZXNvbHZlKTsKICAgICAgfSBlbHNlIGlmIChsb2NhbFN0b3JhZ2UpIHsKICAgICAgICByZXNvbHZlKHsKICAgICAgICAgIHJlc3VsdDogewogICAgICAgICAgICB2YWx1ZTogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrKSkKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZWplY3QoJ+acquefpemUmeivrycpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgcmVqZWN0KGVycik7CiAgICB9CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNldFN0b3JhZ2UoaywgdikgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB0cnkgewogICAgICBpZiAod2luZG93LmNocm9tZSAmJiB3aW5kb3cuY2hyb21lLnN0b3JhZ2UpIHsKICAgICAgICB3aW5kb3cuY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoX2RlZmluZVByb3BlcnR5KHt9LCBrLCB2KSwgcmVzb2x2ZSk7CiAgICAgIH0gZWxzZSBpZiAobG9jYWxTdG9yYWdlKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaywgSlNPTi5zdHJpbmdpZnkodikpOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZWplY3QoJ+aCqOWPr+iDveemgeeUqOS6huWtmOWCqOWKn+iDvX4nKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIHJlamVjdCgn5b2T5YmN5rKh5pyJ5a2Y5YKo5p2D6ZmQ77yM5oiW6ICF5a2Y5YKo5bey6L6+5Yiw5LiK6ZmQficpOwogICAgfQogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBzZXRDbG91bmRTdG9yYWdlKGNvbnRlbnQpIHsKICAvLyByZXR1cm4gZmV0Y2goImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYXpsMzk3OTg1ODU2L3N0YXNoL2lzc3VlcyIsIHsKICAvLyAgIG1ldGhvZDogIlBPU1QiLAogIC8vICAgaGVhZGVyczogewogIC8vICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogIC8vICAgICBBdXRob3JpemF0aW9uOiBgdG9rZW4gJHt0b2tlbn1gLAogIC8vICAgfSwKICAvLyAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpLAogIC8vIH0pCiAgLy8gICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKQogIC8vICAgLnRoZW4oKHJlcykgPT4gewogIC8vICAgICByZXR1cm4gewogIC8vICAgICAgIC4uLnJlcywKICAvLyAgICAgICBpZDogcmVzLm51bWJlciwKICAvLyAgICAgfTsKICAvLyAgIH0pOwogIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9teS1zdG9yZTIucC5yYXBpZGFwaS5jb20vb3JkZXIvbmV3JywgewogICAgbWV0aG9kOiAnUE9TVCcsCiAgICBoZWFkZXJzOiB7CiAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICd4LXJhcGlkYXBpLWtleSc6IHJhcGlkS2V5LAogICAgICAneC1yYXBpZGFwaS1ob3N0JzogJ215LXN0b3JlMi5wLnJhcGlkYXBpLmNvbScKICAgIH0sCiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgIGN1c3RvbWVyOiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgYm9keTogY29udGVudAogICAgICB9KSwKICAgICAgYWRkcmVzczogJycKICAgIH0pCiAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICByZXR1cm4gcmVzLmpzb24oKTsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0Q2xvdW5kU3RvcmFnZShpZCkgewogIC8vIHJldHVybiBmZXRjaCgKICAvLyAgIGBodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2F6bDM5Nzk4NTg1Ni9zdGFzaC9pc3N1ZXMvJHtpZH1gLAogIC8vICAgewogIC8vICAgICBoZWFkZXJzOiB7CiAgLy8gICAgICAgYWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsCiAgLy8gICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAvLyAgICAgICBBdXRob3JpemF0aW9uOiBgdG9rZW4gJHt0b2tlbn1gLAogIC8vICAgICB9LAogIC8vICAgfQogIC8vICkKICAvLyAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpCiAgLy8gICAudGhlbigocmVzKSA9PiBKU09OLnBhcnNlKHJlcy5ib2R5KSk7CiAgcmV0dXJuIGZldGNoKCJodHRwczovL215LXN0b3JlMi5wLnJhcGlkYXBpLmNvbS9vcmRlci8iLmNvbmNhdChpZCksIHsKICAgIG1ldGhvZDogJ0dFVCcsCiAgICBoZWFkZXJzOiB7CiAgICAgICd4LXJhcGlkYXBpLWtleSc6IHJhcGlkS2V5LAogICAgICAneC1yYXBpZGFwaS1ob3N0JzogJ215LXN0b3JlMi5wLnJhcGlkYXBpLmNvbScKICAgIH0KICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgIHJldHVybiByZXMuanNvbigpOwogIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICByZXR1cm4gSlNPTi5wYXJzZShyZXNwb25zZS5vcmRlci5jdXN0b21lcikuYm9keTsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gdXNlRGF0YWJhc2UoZGJOYW1lLCBfcmVmKSB7CiAgdmFyIGZldGNoID0gX3JlZi5mZXRjaDsKICBpZiAoIWRiTmFtZSB8fCB0eXBlb2YgZGJOYW1lICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IEVycm9yKCJkYk5hbWUgc2hvdWxkIGJlIHN0cmluZywgYnV0IGdvdCAiLmNvbmNhdChkYk5hbWUpKTsKCiAgaWYgKCFmZXRjaCkgewogICAgZmV0Y2ggPSB3aW5kb3cuZmV0Y2g7CiAgfQoKICByZXR1cm4gewogICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoYm9keSkgewogICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vbXktc3RvcmUyLnAucmFwaWRhcGkuY29tL2NhdGFsb2cvcHJvZHVjdCcsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgJ3gtcmFwaWRhcGkta2V5JzogcmFwaWRLZXksCiAgICAgICAgICAneC1yYXBpZGFwaS1ob3N0JzogJ215LXN0b3JlMi5wLnJhcGlkYXBpLmNvbScKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgcHJpY2U6IDAsCiAgICAgICAgICBtYW51ZmFjdHVyZXI6ICcnLAogICAgICAgICAgY2F0ZWdvcnk6IGRiTmFtZSwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgIGJvZHk6IGJvZHkKICAgICAgICAgIH0pLAogICAgICAgICAgdGFnczogJycKICAgICAgICB9KQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXR1cm4gcmVzLmpzb24oKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVhZE9uZTogZnVuY3Rpb24gcmVhZE9uZSgpIHsKICAgICAgdmFyIF9yZWYyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSwKICAgICAgICAgIGlkID0gX3JlZjIuaWQ7CgogICAgICBpZiAoIWlkKSB0aHJvdyBuZXcgRXJyb3IoJ2lkIG11c3Qgbm90IGJlIGVtcHR5Jyk7CiAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly9teS1zdG9yZTIucC5yYXBpZGFwaS5jb20vY2F0YWxvZy9wcm9kdWN0LyIuY29uY2F0KGlkKSwgewogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ3gtcmFwaWRhcGkta2V5JzogcmFwaWRLZXksCiAgICAgICAgICAneC1yYXBpZGFwaS1ob3N0JzogJ215LXN0b3JlMi5wLnJhcGlkYXBpLmNvbScKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3BvbnNlLmRlc2NyaXB0aW9uKS5ib2R5OwogICAgICB9KTsKICAgIH0sCiAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIF9yZWYzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSwKICAgICAgICAgIHNraXAgPSBfcmVmMy5za2lwLAogICAgICAgICAgbGltaXQgPSBfcmVmMy5saW1pdDsKCiAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly9teS1zdG9yZTIucC5yYXBpZGFwaS5jb20vY2F0YWxvZy9jYXRlZ29yeS8iLmNvbmNhdChkYk5hbWUsICIvcHJvZHVjdHM/c2tpcD0iKS5jb25jYXQoc2tpcCB8fCAwLCAiJmxpbWl0PSIpLmNvbmNhdChsaW1pdCB8fCAxMCksIHsKICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICd4LXJhcGlkYXBpLWtleSc6IHJhcGlkS2V5LAogICAgICAgICAgJ3gtcmFwaWRhcGktaG9zdCc6ICdteS1zdG9yZTIucC5yYXBpZGFwaS5jb20nCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXR1cm4gcmVzLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJlcy5wcm9kdWN0cy5tYXAoX3RoaXMucmVhZE9uZSkpOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGU6IGZ1bmN0aW9uIF9kZWxldGUoaWQpIHsKICAgICAgcmV0dXJuIGZldGNoKCJodHRwczovL215LXN0b3JlMi5wLnJhcGlkYXBpLmNvbS9jYXRhbG9nL3Byb2R1Y3QvIi5jb25jYXQoaWQpLCB7CiAgICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAneC1yYXBpZGFwaS1rZXknOiByYXBpZEtleSwKICAgICAgICAgICd4LXJhcGlkYXBpLWhvc3QnOiAnbXktc3RvcmUyLnAucmFwaWRhcGkuY29tJwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CiAgICAgIH0pOwogICAgfQogIH07Cn0="},{"version":3,"sources":["/Users/luxiaopeng/github/leetcode-pp/src/utils/storage.js"],"names":["rapidKey","process","env","getStorage","k","Promise","resolve","reject","window","chrome","storage","get","localStorage","result","value","JSON","parse","getItem","err","setStorage","v","sync","set","setItem","stringify","setCloundStorage","content","fetch","method","headers","body","customer","address","then","res","json","getCloundStorage","id","response","order","useDatabase","dbName","Error","create","name","price","manufacturer","category","description","tags","readOne","read","skip","limit","all","products","map","delete"],"mappings":"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","sourcesContent":["const rapidKey =\n  process.env.rapidKey || '8be902d767mshf5d232d6b781084p166217jsn382abe83434f'\n\nexport function getStorage(k) {\n  return new Promise((resolve, reject) => {\n    try {\n      if (window.chrome && window.chrome.storage) {\n        window.chrome.storage.get([k], resolve)\n      } else if (localStorage) {\n        resolve({\n          result: {\n            value: JSON.parse(localStorage.getItem(k))\n          }\n        })\n      } else {\n        reject('未知错误')\n      }\n    } catch (err) {\n      reject(err)\n    }\n  })\n}\n\nexport function setStorage(k, v) {\n  return new Promise((resolve, reject) => {\n    try {\n      if (window.chrome && window.chrome.storage) {\n        window.chrome.storage.sync.set(\n          {\n            [k]: v\n          },\n          resolve\n        )\n      } else if (localStorage) {\n        localStorage.setItem(k, JSON.stringify(v))\n        resolve()\n      } else {\n        reject('您可能禁用了存储功能~')\n      }\n    } catch (err) {\n      console.log(err, k, v)\n      reject('当前没有存储权限，或者存储已达到上限~')\n    }\n  })\n}\n\nexport function setCloundStorage(content) {\n  // return fetch(\"https://api.github.com/repos/azl397985856/stash/issues\", {\n  //   method: \"POST\",\n  //   headers: {\n  //     \"Content-Type\": \"application/json\",\n  //     Authorization: `token ${token}`,\n  //   },\n  //   body: JSON.stringify(content),\n  // })\n  //   .then((res) => res.json())\n  //   .then((res) => {\n  //     return {\n  //       ...res,\n  //       id: res.number,\n  //     };\n  //   });\n  return fetch('https://my-store2.p.rapidapi.com/order/new', {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n      'x-rapidapi-key': rapidKey,\n      'x-rapidapi-host': 'my-store2.p.rapidapi.com'\n    },\n    body: JSON.stringify({\n      customer: JSON.stringify({\n        body: content\n      }),\n      address: ''\n    })\n  }).then(res => res.json())\n}\n\nexport function getCloundStorage(id) {\n  // return fetch(\n  //   `https://api.github.com/repos/azl397985856/stash/issues/${id}`,\n  //   {\n  //     headers: {\n  //       accept: \"application/json\",\n  //       \"Content-Type\": \"application/json\",\n  //       Authorization: `token ${token}`,\n  //     },\n  //   }\n  // )\n  //   .then((res) => res.json())\n  //   .then((res) => JSON.parse(res.body));\n  return fetch(`https://my-store2.p.rapidapi.com/order/${id}`, {\n    method: 'GET',\n    headers: {\n      'x-rapidapi-key': rapidKey,\n      'x-rapidapi-host': 'my-store2.p.rapidapi.com'\n    }\n  })\n    .then(res => res.json())\n    .then(response => {\n      return JSON.parse(response.order.customer).body\n    })\n}\nexport function useDatabase(dbName, { fetch }) {\n  if (!dbName || typeof dbName !== 'string')\n    throw new Error(`dbName should be string, but got ${dbName}`)\n  if (!fetch) {\n    fetch = window.fetch\n  }\n  return {\n    create(body) {\n      return fetch('https://my-store2.p.rapidapi.com/catalog/product', {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n          'x-rapidapi-key': rapidKey,\n          'x-rapidapi-host': 'my-store2.p.rapidapi.com'\n        },\n        body: JSON.stringify({\n          name: '',\n          price: 0,\n          manufacturer: '',\n          category: dbName,\n          description: JSON.stringify({ body }),\n          tags: ''\n        })\n      }).then(res => res.json())\n    },\n    readOne({ id } = {}) {\n      if (!id) throw new Error('id must not be empty')\n      return fetch(`https://my-store2.p.rapidapi.com/catalog/product/${id}`, {\n        method: 'GET',\n        headers: {\n          'x-rapidapi-key': rapidKey,\n          'x-rapidapi-host': 'my-store2.p.rapidapi.com'\n        }\n      })\n        .then(res => res.json())\n        .then(response => {\n          return JSON.parse(response.description).body\n        })\n    },\n    read({ skip, limit } = {}) {\n      return fetch(\n        `https://my-store2.p.rapidapi.com/catalog/category/${dbName}/products?skip=${skip ||\n          0}&limit=${limit || 10}`,\n        {\n          method: 'GET',\n          headers: {\n            'x-rapidapi-key': rapidKey,\n            'x-rapidapi-host': 'my-store2.p.rapidapi.com'\n          }\n        }\n      )\n        .then(res => res.json())\n        .then(res => {\n          return Promise.all(res.products.map(this.readOne))\n        })\n    },\n    delete(id) {\n      return fetch(`https://my-store2.p.rapidapi.com/catalog/product/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'x-rapidapi-key': rapidKey,\n          'x-rapidapi-host': 'my-store2.p.rapidapi.com'\n        }\n      }).then(res => res.json())\n    }\n  }\n}\n"]}]}