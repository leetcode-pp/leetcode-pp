{"remainingRequest":"/Users/luxiaopeng/github/leetcode-pp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luxiaopeng/github/leetcode-pp/src/views/ProblemDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luxiaopeng/github/leetcode-pp/src/views/ProblemDetail.vue","mtime":1648364288931},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/cache-loader/dist/cjs.js","mtime":1582876651155},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/thread-loader/dist/cjs.js","mtime":1582876651885},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/babel-loader/lib/index.js","mtime":1614915260754},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/cache-loader/dist/cjs.js","mtime":1582876651155},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/vue-loader/lib/index.js","mtime":1631347730543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEdpdGh1YkNvbnRlbnQgfSBmcm9tICcuLi9hcGlzL2dpdGh1YicKaW1wb3J0IE1hcmtkb3duSXQgZnJvbSAnbWFya2Rvd24taXQnCmltcG9ydCBobGpzIGZyb20gJ2hpZ2hsaWdodC5qcycKaW1wb3J0ICdoaWdobGlnaHQuanMvc3R5bGVzL2dpdGh1Yi5jc3MnCmNvbnN0IG1kID0gbmV3IE1hcmtkb3duSXQoKQpjb25zdCBVUkxfUkVHRVggPSAvKFxzKykoaHR0cHM/OlwvXC8oPzp3d3dcLnwoPyF3d3cpKVthLXpBLVowLTldW2EtekEtWjAtOS1dK1thLXpBLVowLTldXC5bXlxzXXsyLH18d3d3XC5bYS16QS1aMC05XVthLXpBLVowLTktXStbYS16QS1aMC05XVwuW15cc117Mix9fGh0dHBzPzpcL1wvKD86d3d3XC58KD8hd3d3KSlbYS16QS1aMC05XStcLlteXHNdezIsfXx3d3dcLlthLXpBLVowLTldK1wuW15cc117Mix9KS9nCi8qKiAKICBUaGUgYWJvdmUgcmVnZXggd2lsbCBtYXRjaCB0aGUgZm9sbG93aW5nIGNhc2VzCiAgaHR0cDovL3d3dy5mb3Vmb3MuZ3IKICBodHRwczovL3d3dy5mb3Vmb3MuZ3IKICBodHRwOi8vZm91Zm9zLmdyCiAgaHR0cDovL3d3dy5mb3Vmb3MuZ3Iva2lubwogIGh0dHA6Ly93ZXJlci5ncgogIHd3dy5mb3Vmb3MuZ3IKICB3d3cubXAzLmNvbQogIHd3dy50LmNvCiAgaHR0cDovL3QuY28KICBodHRwOi8vd3d3LnQuY28KICBodHRwczovL3d3dy50LmNvCiAgd3d3LmFhLmNvbQogIGh0dHA6Ly9hYS5jb20KICBodHRwOi8vd3d3LmFhLmNvbQogIGh0dHBzOi8vd3d3LmFhLmNvbQogKi8KY29uc3QgRVJST1JfTVNHX0RJU1BMQVlfRFVSQVRJT04gPSA1MDAwCmNvbnN0IENPTE9SUyA9IFsKICAncGluaycsCiAgJ3JlZCcsCiAgJ29yYW5nZScsCiAgJ2dyZWVuJywKICAnY3lhbicsCiAgJ2JsdWUnLAogICdwdXJwbGUnLAogICcjODdkMDY4JwpdCgpmdW5jdGlvbiBnZXRTb2x1dGlvbihjb21tZW50cykgewogIC8vIOS8mOWFiOmAieaLqSBsdWNpZmVyIOeahO+8jOWmguaenOayoeacie+8jOmAieesrOS4gOS4quWlveS6huOAggogIGNvbnN0IGx1Y2lmZXIgPSBjb21tZW50cy5maW5kKAogICAgY29tbWVudCA9PiBjb21tZW50LnVzZXIubG9naW4gPT09ICdhemwzOTc5ODU4NTYnCiAgKQogIGlmIChsdWNpZmVyKSByZXR1cm4gbHVjaWZlci5ib2R5CiAgcmV0dXJuIGNvbW1lbnRzWzBdID8gY29tbWVudHNbMF0uYm9keSA6ICfmmoLml6AnCn0KZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBoYXNFcnJvcjogZmFsc2UsCiAgICAgIHRpdGxlOiAnJywKICAgICAgZGVzYzogJycsCiAgICAgIGNyZWF0ZURhdGU6ICcnLAogICAgICBpc3N1ZVVybDogJycsCiAgICAgIHNvbHV0aW9uOiAnJywKICAgICAgcHJldHRpZmllZDogZmFsc2UsCiAgICAgIGxhYmVsczogW10KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJhbmRvbUNvbG9yKGluZGV4KSB7CiAgICAgIHJldHVybiBDT0xPUlNbaW5kZXggJSBDT0xPUlMubGVuZ3RoXQogICAgfSwKICAgIHNob3dFcnJvcigpIHsKICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWUKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5oYXNFcnJvciA9IGZhbHNlCiAgICAgIH0sIEVSUk9SX01TR19ESVNQTEFZX0RVUkFUSU9OKQogICAgfSwKICAgIGFzeW5jIGdldFByb2xlbSgpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRHaXRodWJDb250ZW50KAogICAgICAgICAgYGh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYXpsMzk3OTg1ODU2L2xlZXRjb2RlL2lzc3Vlcy8ke3RoaXMuJHJvdXRlLnBhcmFtcy5pZH0/Z2l0aHViQ2xpZW50SWQ9ZTZkYWZkNTRiOTZmY2VmNzRjNTYmZ2l0aHViQ2xpZW50U2VjcmV0PTY0ZWM5YzE1ZWU2MDhjMjAxZjBiNWY0YjNmZGU4ODFiMDdkMmJjMzFgCiAgICAgICAgKQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgdGhpcy50aXRsZSA9IHJlcy50aXRsZQogICAgICAgIHRoaXMuZGVzYyA9IG1kLnJlbmRlcih0aGlzLmFkZExpbmtNYXJrZG93bihyZXMuYm9keSkpCiAgICAgICAgdGhpcy5jcmVhdGVEYXRlID0gcmVzLmNyZWF0ZWRfYXQKICAgICAgICB0aGlzLmlzc3VlVXJsID0gcmVzLmNvbW1lbnRzX3VybAogICAgICAgIHRoaXMubGFiZWxzID0gcmVzLmxhYmVscwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgIHRoaXMuc2hvd0Vycm9yKCkKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICB9CiAgICB9LAogICAgYWRkTGlua01hcmtkb3duKGNvbnRlbnQpIHsKICAgICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZShVUkxfUkVHRVgsICc8JDI+JykKICAgIH0sCiAgICBhc3luYyBnZXRTb2x1dGlvbigpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBjb21tZW50cyA9IGF3YWl0IGdldEdpdGh1YkNvbnRlbnQodGhpcy5pc3N1ZVVybCkKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIHRoaXMuc29sdXRpb24gPSBnZXRTb2x1dGlvbihjb21tZW50cykKCiAgICAgICAgLy8gTWFya2Rvd24gdG8gSFRNTAogICAgICAgIHRoaXMuc29sdXRpb24gPSBtZC5yZW5kZXIodGhpcy5zb2x1dGlvbikKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICB0aGlzLnNob3dFcnJvcigpCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfQogICAgfQogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIGF3YWl0IHRoaXMuZ2V0UHJvbGVtKCkKICAgIGlmICh0aGlzLnRpdGxlKSB7CiAgICAgIGF3YWl0IHRoaXMuZ2V0U29sdXRpb24oKQogICAgICBobGpzLmNvbmZpZ3VyZSh7IHVzZUJSOiBmYWxzZSB9KQogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdjb2RlJykuZm9yRWFjaChibG9jayA9PiB7CiAgICAgICAgaGxqcy5oaWdobGlnaHRCbG9jayhibG9jaykKICAgICAgfSkKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nJykuZm9yRWFjaChibG9jayA9PiB7CiAgICAgICAgLy8gYmxvY2suc3R5bGUubWF4V2lkdGggPSAnMzQwcHgnCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ProblemDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProblemDetail.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div v-if=\"loading\" class=\"spinner-container\">\n      <a-spin size=\"large\"></a-spin>\n    </div>\n    <div v-if=\"!loading\" class=\"container\">\n      <div class=\"max-width-800\">\n        <a-alert\n          v-if=\"hasError\"\n          message=\"很抱歉，目前请求无法执行，请稍候再试。\"\n          type=\"error\"\n        />\n      </div>\n      <h1>{{ title }}</h1>\n      <p class=\"tags\">\n        <a-tag\n          v-for=\"(label, index) in labels\"\n          :key=\"label.id\"\n          :color=\"randomColor(index)\"\n          label.name\n          >{{ label.name }}</a-tag\n        >\n      </p>\n      <h2 class=\"subtitle\">题目详情</h2>\n      <div class=\"desc text-align-left\" v-html=\"desc\"></div>\n      <h2 class=\"subtitle\">题解</h2>\n      <div class=\"solution text-align-left\" v-html=\"solution\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getGithubContent } from '../apis/github'\nimport MarkdownIt from 'markdown-it'\nimport hljs from 'highlight.js'\nimport 'highlight.js/styles/github.css'\nconst md = new MarkdownIt()\nconst URL_REGEX = /(\\s+)(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/g\n/** \n  The above regex will match the following cases\n  http://www.foufos.gr\n  https://www.foufos.gr\n  http://foufos.gr\n  http://www.foufos.gr/kino\n  http://werer.gr\n  www.foufos.gr\n  www.mp3.com\n  www.t.co\n  http://t.co\n  http://www.t.co\n  https://www.t.co\n  www.aa.com\n  http://aa.com\n  http://www.aa.com\n  https://www.aa.com\n */\nconst ERROR_MSG_DISPLAY_DURATION = 5000\nconst COLORS = [\n  'pink',\n  'red',\n  'orange',\n  'green',\n  'cyan',\n  'blue',\n  'purple',\n  '#87d068'\n]\n\nfunction getSolution(comments) {\n  // 优先选择 lucifer 的，如果没有，选第一个好了。\n  const lucifer = comments.find(\n    comment => comment.user.login === 'azl397985856'\n  )\n  if (lucifer) return lucifer.body\n  return comments[0] ? comments[0].body : '暂无'\n}\nexport default {\n  data() {\n    return {\n      loading: true,\n      hasError: false,\n      title: '',\n      desc: '',\n      createDate: '',\n      issueUrl: '',\n      solution: '',\n      prettified: false,\n      labels: []\n    }\n  },\n  methods: {\n    randomColor(index) {\n      return COLORS[index % COLORS.length]\n    },\n    showError() {\n      this.hasError = true\n      setTimeout(() => {\n        this.hasError = false\n      }, ERROR_MSG_DISPLAY_DURATION)\n    },\n    async getProlem() {\n      try {\n        const res = await getGithubContent(\n          `https://api.github.com/repos/azl397985856/leetcode/issues/${this.$route.params.id}?githubClientId=e6dafd54b96fcef74c56&githubClientSecret=64ec9c15ee608c201f0b5f4b3fde881b07d2bc31`\n        )\n        this.loading = false\n        this.title = res.title\n        this.desc = md.render(this.addLinkMarkdown(res.body))\n        this.createDate = res.created_at\n        this.issueUrl = res.comments_url\n        this.labels = res.labels\n      } catch (error) {\n        console.log(error)\n        this.showError()\n        this.loading = false\n      }\n    },\n    addLinkMarkdown(content) {\n      return content.replace(URL_REGEX, '<$2>')\n    },\n    async getSolution() {\n      try {\n        const comments = await getGithubContent(this.issueUrl)\n        this.loading = false\n        this.solution = getSolution(comments)\n\n        // Markdown to HTML\n        this.solution = md.render(this.solution)\n      } catch (error) {\n        console.log(error)\n        this.showError()\n        this.loading = false\n      }\n    }\n  },\n  async mounted() {\n    await this.getProlem()\n    if (this.title) {\n      await this.getSolution()\n      hljs.configure({ useBR: false })\n      document.querySelectorAll('code').forEach(block => {\n        hljs.highlightBlock(block)\n      })\n      document.querySelectorAll('img').forEach(block => {\n        // block.style.maxWidth = '340px'\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n/deep/ p > code {\n  display: inline;\n}\nh2.subtitle {\n  margin-top: 50px;\n  margin-bottom: 30px;\n  font-size: 32px;\n  font-weight: bold;\n}\n.max-width-800 {\n  max-width: 800px;\n  margin: 30px auto;\n}\n.text-align-left {\n  text-align: left;\n}\n.container {\n  max-width: 1080px;\n  margin: 30px auto;\n}\n.desc,\n.solution {\n  max-width: 800px;\n  margin: 20px auto;\n}\npre {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n.spinner-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n.tags {\n  margin-bottom: 30px;\n}\n</style>\n"]}]}