{"remainingRequest":"/Users/luxiaopeng/github/leetcode-pp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luxiaopeng/github/leetcode-pp/src/views/91/91algo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luxiaopeng/github/leetcode-pp/src/views/91/91algo.vue","mtime":1682748588300},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/cache-loader/dist/cjs.js","mtime":1582876651155},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/thread-loader/dist/cjs.js","mtime":1582876651885},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/babel-loader/lib/index.js","mtime":1614915260754},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/cache-loader/dist/cjs.js","mtime":1582876651155},{"path":"/Users/luxiaopeng/github/leetcode-pp/node_modules/vue-loader/lib/index.js","mtime":1631347730543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjb3VudGVyIGZyb20gJ0AvY29tcG9uZW50cy9Db3VudGVyJwppbXBvcnQgJ2dpdGFsay9kaXN0L2dpdGFsay5jc3MnCmltcG9ydCBHaXRhbGsgZnJvbSAnZ2l0YWxrL2Rpc3QvZ2l0YWxrJwovLyBpbXBvcnQgcmVxdWVzdCBmcm9tICdAL2FwaXMvcmVxdWVzdCcKaW1wb3J0IENhcmQgZnJvbSAnQC9jb21wb25lbnRzL0NhcmQnCmltcG9ydCBSYW5rIGZyb20gJy4vcmFua2luZycKaW1wb3J0IEZhcSBmcm9tICcuL2ZhcScKaW1wb3J0IHsKICBnZXRCYXNpY0xlY3R1cmUsCiAgZ2V0SW50cm9MZWN0dXJlLAogIGdldFRvcGljTGVjdHVyZSwKICBnZXRBZHZhbmNlTGVjdHVyZSwKICBnZXREYWlseVByb2JsZW0sCiAgZ2V0TXlTb2x1dGlvbnMsCiAgZ2V0UmFua2luZ3MKfSBmcm9tICdAL2FwaXMvOTEnCmltcG9ydCB7IGdldENvbW1lbnRBcHAgfSBmcm9tICdAL2FwaXMvZ2l0aHViJwppbXBvcnQgeyBsb2dvdXQsIGdldFVzZXJJbmZvIH0gZnJvbSAnQC9hcGlzL3VzZXInCmltcG9ydCBRIGZyb20gJy4vUXVlc3Rpb25EZWNyaXB0aW9uLnZ1ZScKaW1wb3J0IGNvbnRlc3RzIGZyb20gJy4vZGIvY29udGVzdC5qc29uJwppbXBvcnQgYmFzZUNvbnRlc3QgZnJvbSAnLi9kYi9iYXNlQ29udGVzdC5qc29uJwppbXBvcnQgewogIGJhc2ljTGVjdHVyZXMsCiAgaW50cm9MZWN0dXJlcywKICBhZHZhbmNlTGVjdHVyZXMsCiAgdG9waWNMZWN0dXJlcywKICB0ZWFjaGVycywKICB0aW1lUmFuZ2UsCiAgaG9tZXdvcmtzCn0gZnJvbSAnLi85MS5kYi5qcycKaW1wb3J0IHN0dWRlbnRzIGZyb20gJy4vc3R1ZGVudHMtdGFsaycKaW1wb3J0IHsKICBjbGllbnRJZCwKICBvcmlnaW5hbEhvc3RuYW1lLAogIC8vIGhvc3RuYW1lLAogIHN0YXJ0VGltZSwKICBEQUlMWV9DSEVDS19SRVBPLAogIERBSUxZX0NIRUNLX09XTkVSCiAgLy8gbGVldGNvZGVDb25maWcKfSBmcm9tICcuLi8uLi9jb25maWcvaW5kZXgnCmltcG9ydCB7IGdldE1ldGEgfSBmcm9tICdAL2FwaXMvbWV0YScKLy8gY29uc3QgewovLyAgIF85MVVzZXJuYW1lTHNOYW1lLAovLyAgIF85MVB3ZExzTmFtZSwKLy8gICBsY1NlZXNpb25Db29raWVOYW1lLAovLyAgIGxjQ3NyZnRva2VuQ29va2llTmFtZQovLyB9ID0gbGVldGNvZGVDb25maWcKLy8gY29uc3QgbGNEYXRhS2V5cyA9IFsKLy8gICBfOTFVc2VybmFtZUxzTmFtZSwKLy8gICBfOTFQd2RMc05hbWUsCi8vICAgbGNTZWVzaW9uQ29va2llTmFtZSwKLy8gICBsY0NzcmZ0b2tlbkNvb2tpZU5hbWUKLy8gXQovLyBpbXBvcnQgQ29kZUVkaXRvciBmcm9tICcuLi8uLi9jb21wb25lbnRzL0NvZGUnCi8vIGltcG9ydCB7IG1lc3NhZ2UgfSBmcm9tICdhbnQtZGVzaWduLXZ1ZScKCmNvbnN0IE1TX1BFUl9EQVkgPSAyNCAqIDYwICogNjAgKiAxMDAwCmNvbnN0IERBWVNfVE9fUFJFUEFSRSA9IDEwIC8vIOaPkOWJjeWHoOWkqeW8gOaUvuiusuS5iQpjb25zdCBEQVlTX1BFUl9XRUVLID0gNwpmdW5jdGlvbiBnZXREYXkoZGF0ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpKSB7CiAgcmV0dXJuICgoZGF0ZSAtIHN0YXJ0VGltZSArIE1TX1BFUl9EQVkgLSAxKSAvIE1TX1BFUl9EQVkpID4+IDAKfQovLyDojrflj5bljbPlsIblvIDlp4vnmoTkuIvkuIDmrKHlkajotZvkv6Hmga8KZnVuY3Rpb24gZ2V0VXBjb21taW5nQ29udGVzdCgpIHsKICBsZXQgZCA9IDAKICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKQogIHdoaWxlIChiYXNlQ29udGVzdC50aW1lICsgZCAqIERBWVNfUEVSX1dFRUsgKiBNU19QRVJfREFZIDwgbm93KSB7CiAgICBkICs9IDEKICB9CiAgcmV0dXJuIHsKICAgIGlkOiBiYXNlQ29udGVzdC5pZCArIGQsCiAgICB0aW1lOiBiYXNlQ29udGVzdC50aW1lICsgZCAqIERBWVNfUEVSX1dFRUsgKiBNU19QRVJfREFZLAogICAgcGFzc2VkOiBmYWxzZQogIH0KfQoKLy8g5bCGIGlkIOWSjCB0YWcg5ZCI5bm25Li6IGxhYmVsc++8jOeEtuWQjuagueaNriBsYWJlbHMg5p+l6K+i5LuT5bqT5LiL56ym5ZCI5p2h5Lu255qEIGlzc3Vl77yM54S25ZCO5bCGIGlzc3VlIOS4i+eahCBjb21tZW50cyDlsZXnpLrlh7rmnaXjgIIKYXN5bmMgZnVuY3Rpb24gbG9hZENvbW1lbnQoewogIGlkLAogIHRhZ3MsCiAgdGl0bGUgPSAnJywKICBkZXNjcmlwdGlvbiA9ICcnLAogIGxpbmsgPSAnJwp9KSB7CiAgY29uc3QgeyBjbGllbnRJRCwgY2xpZW50U2VjcmV0IH0gPSBhd2FpdCBnZXRDb21tZW50QXBwKCkKCiAgY29uc3QgZ2l0YWxrID0gbmV3IEdpdGFsayh7CiAgICBjbGllbnRJRCwKICAgIGNsaWVudFNlY3JldCwKICAgIHJlcG86IERBSUxZX0NIRUNLX1JFUE8sIC8vIFRoZSByZXBvc2l0b3J5IG9mIHN0b3JlIGNvbW1lbnRzLAogICAgb3duZXI6IERBSUxZX0NIRUNLX09XTkVSLAogICAgYWRtaW46IFsnYXpsMzk3OTg1ODU2J10sCiAgICBib2R5OiBgCiR7ZGVzY3JpcHRpb259CiR7bGlua30KYCwKICAgIGlkLAogICAgdGl0bGUsCiAgICBwZXJQYWdlOiAxMDAsCiAgICBsYWJlbHM6IHRhZ3MgfHwgW10sCiAgICBkaXN0cmFjdGlvbkZyZWVNb2RlOiB0cnVlIC8vIEZhY2Vib29rLWxpa2UgZGlzdHJhY3Rpb24gZnJlZSBtb2RlCiAgfSkKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2l0YWxrLWNvbnRhaW5lcicpLmlubmVySFRNTCA9ICcnCgogIGdpdGFsay5yZW5kZXIoJ2dpdGFsay1jb250YWluZXInKQp9CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgY291bnRlciwKICAgIGZhcTogRmFxLAogICAgcmFua2luZzogUmFuaywKICAgIGNhcmQ6IENhcmQsCiAgICBRCiAgICAvLyBDb2RlRWRpdG9yCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbm9DaGVjazogZmFsc2UsCiAgICAgIGFsbENoZWNrOiBmYWxzZSwKICAgICAgREFJTFlfQ0hFQ0tfUkVQTywKICAgICAgREFJTFlfQ0hFQ0tfT1dORVIsCiAgICAgIGZldGNoaW5nVXNlckluZm86IGZhbHNlLAogICAgICBmZXRjaGluZ0RhaWx5UHJvYmxlbTogZmFsc2UsCiAgICAgIGZldGNoaW5nTGVjdHVyZXM6IGZhbHNlLAogICAgICBmZXRjaGluZ1Jhbms6IGZhbHNlLAogICAgICBmZXRjaGluZ1BlcnNvbmFsUHJvZ3Jlc3M6IGZhbHNlLAogICAgICBpc1Rlc3RVc2U6IGZhbHNlLAogICAgICBmb3JtOiB0aGlzLiRmb3JtLmNyZWF0ZUZvcm0odGhpcyksCiAgICAgIHNlbGVjdGVkVGFnOiAn5YWo6YOoJywKICAgICAgYWxsVGFnczogWyflhajpg6gnXSwKICAgICAgY3VycmVudFN0dWRlbnRUYWI6ICdpbnRlcnZpZXcnLAogICAgICBjdXJyZW50TXlUYWI6ICdoaXN0b3J5JywKICAgICAgcmFua2luZ3M6IFtdLCAvLyDmiZPljaHmjpLooYzjgILmnKrmnaXlj6/og73lop7liqDlhbbku5bmjpLooYzvvIzmr5TlpoLngrnotZ7nsr7pgInmjpLooYwKICAgICAgY29udGVzdFJhbmtpbmdzOiBbXSwgLy8g5Y+C5Yqg56ue6LWb55qE562U6aKY5oOF5Ya1CiAgICAgIGNvbnRlc3RzLAogICAgICB1cGNvbW1pbmdDb250ZXN0OiBnZXRVcGNvbW1pbmdDb250ZXN0KCksCiAgICAgIGxlZXRjb2RlVXNlcm5hbWU6ICcnLCAvLyBsZWV0Y29kZSDnlKjmiLflkI0KICAgICAgbXlTb2x1dGlvbnM6IFtdLAogICAgICBzaG93SGlzdG9yeTogZmFsc2UsCiAgICAgIGNvbG9yczogWycjZjUwJywgJyMyZGI3ZjUnLCAnIzg3ZDA2OCcsICcjMTA4ZWU5J10sCiAgICAgIG5hbWU6ICcnLCAvLyDlvZPliY3nmbvlvZXkuroKICAgICAgYXZhdGFyOiAnJywKICAgICAgc3RhcnRUaW1lLAogICAgICBtZXRhOiB7CiAgICAgICAgZGFpbHlDaGVjazogbmV3IERhdGUoKS5nZXRUaW1lKCksCiAgICAgICAgY2hlY2tJbjogbmV3IERhdGUoKS5nZXRUaW1lKCksCiAgICAgICAgbGVjdHVyZXM6IHsKICAgICAgICAgIGludHJvOiB7fSwKICAgICAgICAgIGJhc2ljOiB7fSwKICAgICAgICAgIHRvcGljOiB7fSwKICAgICAgICAgIGFkdmFuY2U6IHt9CiAgICAgICAgfQogICAgICB9LAogICAgICBkYWlseVByb2JsZW06IHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIGxpbms6ICcnLAogICAgICAgIHByZXM6IFtdLAogICAgICAgIHRhZ3M6IFtdLAogICAgICAgIHdoeXM6IFtdCiAgICAgIH0sCiAgICAgIGJhc2ljTGVjdHVyZXMsCiAgICAgIGludHJvTGVjdHVyZXMsCiAgICAgIGFkdmFuY2VMZWN0dXJlcywKICAgICAgdG9waWNMZWN0dXJlcywKICAgICAgdGVhY2hlcnMsCiAgICAgIHN0dWRlbnRzLAogICAgICB0aW1lUmFuZ2UsCiAgICAgIGhvbWV3b3JrcywKICAgICAgZGlzYWJsZUJhc2ljOgogICAgICAgIG5ldyBEYXRlKCkuZ2V0VGltZSgpIDw9CiAgICAgICAgbmV3IERhdGUodGltZVJhbmdlLmJhc2ljWzBdKS5nZXRUaW1lKCkgLSBEQVlTX1RPX1BSRVBBUkUgKiBNU19QRVJfREFZLAogICAgICBkaXNhYmxlVG9waWM6CiAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKCkgPD0KICAgICAgICBuZXcgRGF0ZSh0aW1lUmFuZ2UudG9waWNbMF0pLmdldFRpbWUoKSAtIERBWVNfVE9fUFJFUEFSRSAqIE1TX1BFUl9EQVksCiAgICAgIGRpc2FibGVBZHZhbmNlZDoKICAgICAgICBuZXcgRGF0ZSgpLmdldFRpbWUoKSA8PQogICAgICAgIG5ldyBEYXRlKHRpbWVSYW5nZS5hZHZhbmNlZFswXSkuZ2V0VGltZSgpIC0KICAgICAgICAgIERBWVNfVE9fUFJFUEFSRSAqIE1TX1BFUl9EQVksCiAgICAgIGFjdGl2ZVRhYjogJ3RlYWNoZXJzJywKICAgICAgc3RhcnRlZDogbmV3IERhdGUoKS5nZXRUaW1lKCkgPj0gc3RhcnRUaW1lLAogICAgICB0aW1lOiBzdGFydFRpbWUsCiAgICAgIGVycm9yTWVzc2FnZTogJ+W+iOaKseatie+8jOW9k+WJjemhtemdoumDqOWIhuWGheWuuemcgOimgeS7mOi0ueS4lOeZu+W9leWQjuaJjeiDveiuv+mXrn4nLAogICAgICAvLyBsb2dpbmVkOiBmYWxzZSwgLy8g5piv5ZCm55m75b2VCiAgICAgIHBheTogZmFsc2UsIC8vIOaYr+WQpuS4uuS7mOi0ueeUqOaItwogICAgICBsb2dpblVybDogYAogICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbG9naW4vb2F1dGgvYXV0aG9yaXplP2NsaWVudF9pZD0ke2NsaWVudElkfSZyZWRpcmVjdF91cmk9aHR0cHM6Ly8ke29yaWdpbmFsSG9zdG5hbWV9LzkxYCwKICAgICAgY29kZUluaXRWYWx1ZTogJycsCiAgICAgIGNvZGVSZWFkT25seTogZmFsc2UsCiAgICAgIGNvZGVMYW5ndWFnZTogJ3B5dGhvbicsCiAgICAgIGNvZGVUaGVtZTogJ3ZzLWRhcmsnLAogICAgICBsY0FjY291bnRGb3JtU2hvdzogZmFsc2UsCiAgICAgIHN1cHBvcnRMYW5ndWFnZTogWwogICAgICAgICdqYXZhJywKICAgICAgICAnYysrJywKICAgICAgICAnYycsCiAgICAgICAgJ2phdmFzY3JpcHQnLAogICAgICAgICdwaHAnLAogICAgICAgICdweXRob24nLAogICAgICAgICdydXN0JwogICAgICBdCiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgcmVuZGVyRGF5KHRpbWUpIHsKICAgICAgY29uc3QgZGF5ID0gZ2V0RGF5KHRpbWUpCiAgICAgIGlmIChkYXkgPD0gMCB8fCBkYXkgPiBnZXREYXkoKSkgcmV0dXJuICcnCiAgICAgIHJldHVybiBgRGF5JHtkYXl9YAogICAgfSwKICAgIGFzeW5jIGhhbmRsZUFjdGl2ZVRhYkNoYW5nZSh2KSB7CiAgICAgIHRoaXMuYWN0aXZlVGFiID0gdgoKICAgICAgbGV0IG5ld3VybCA9ICcnCiAgICAgIGNvbnN0IHNlYXJjaGVzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKS5zZWFyY2gpCiAgICAgIHNlYXJjaGVzLnNldCgndGFiJywgdGhpcy5hY3RpdmVUYWIpCgogICAgICBuZXd1cmwgPQogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArCiAgICAgICAgJy8vJyArCiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3QgKwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArCiAgICAgICAgJz8nICsKICAgICAgICBzZWFyY2hlcy50b1N0cmluZygpCgogICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoeyBwYXRoOiBuZXd1cmwgfSwgJycsIG5ld3VybCkKICAgICAgaWYgKHYgPT09ICd0b3Atc3R1ZGVudHMnKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHRoaXMuZmV0Y2hpbmdSYW5rID0gdHJ1ZQogICAgICAgICAgYXdhaXQgZ2V0UmFua2luZ3MoKS50aGVuKHJhbmtpbmdzID0+IHsKICAgICAgICAgICAgdGhpcy5yYW5raW5ncyA9IHJhbmtpbmdzCiAgICAgICAgICB9KQogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICB0aGlzLmZldGNoaW5nUmFuayA9IGZhbHNlCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh2ID09PSAnc2lnbicpIHsKICAgICAgICBhd2FpdCB0aGlzLmdldERhaWx5UHJvYmxlbSgpCiAgICAgICAgLy8g5Yqg6L296K+E6K66CiAgICAgICAgbG9hZENvbW1lbnQoewogICAgICAgICAgaWQ6IFN0cmluZyh0aGlzLmRhaWx5UHJvYmxlbS5kYXkpLAogICAgICAgICAgLi4udGhpcy5kYWlseVByb2JsZW0KICAgICAgICB9KQogICAgICB9CiAgICAgIGlmICh2ID09PSAnbXknKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHRoaXMuZmV0Y2hpbmdQZXJzb25hbFByb2dyZXNzID0gdHJ1ZQogICAgICAgICAgYXdhaXQgdGhpcy5nZXRNeVNvbHV0aW9ucygpCiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHRoaXMuZmV0Y2hpbmdQZXJzb25hbFByb2dyZXNzID0gZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHYuaW5jbHVkZXMoJ2p5JykpIHsKICAgICAgICB0aGlzLmZldGNoaW5nTGVjdHVyZXMgPSB0cnVlCiAgICAgICAgY29uc3QgcHMgPSBbCiAgICAgICAgICBnZXRJbnRyb0xlY3R1cmUoKSwKICAgICAgICAgIGdldEJhc2ljTGVjdHVyZSgpLAogICAgICAgICAgZ2V0VG9waWNMZWN0dXJlKCksCiAgICAgICAgICBnZXRBZHZhbmNlTGVjdHVyZSgpCiAgICAgICAgXS5tYXAoKHAsIGkpID0+IHsKICAgICAgICAgIHJldHVybiBwLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgIHRoaXNbCiAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgJ2ludHJvTGVjdHVyZXMnLAogICAgICAgICAgICAgICAgJ2Jhc2ljTGVjdHVyZXMnLAogICAgICAgICAgICAgICAgJ3RvcGljTGVjdHVyZXMnLAogICAgICAgICAgICAgICAgJ2FkdmFuY2VMZWN0dXJlcycKICAgICAgICAgICAgICBdW2ldCiAgICAgICAgICAgIF0gPSBkYXRhLm1hcChxID0+ICh7CiAgICAgICAgICAgICAgLi4ucSwKICAgICAgICAgICAgICB2aWV3VXJsOiBxLmV4dGVybmFsCiAgICAgICAgICAgICAgICA/IHEuZXh0ZXJuYWxMaW5rCiAgICAgICAgICAgICAgICA6IGAvc29sdXRpb25EZXRhaWw/dHlwZT0yJmlkPSR7cS5pZH0mbWF4X2lkPSR7TWF0aC5tYXgoCiAgICAgICAgICAgICAgICAgICAgLi4uZGF0YS5tYXAocSA9PiBxLmlkKQogICAgICAgICAgICAgICAgICApfWAsCiAgICAgICAgICAgICAgZXh0ZXJuYWw6ICEhcS5leHRlcm5hbAogICAgICAgICAgICB9KSkKICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgICBQcm9taXNlLmFsbFNldHRsZWQocHMpLnRoZW4oKCkgPT4gKHRoaXMuZmV0Y2hpbmdMZWN0dXJlcyA9IGZhbHNlKSkKICAgICAgfQogICAgfSwKICAgIGdldERheSwKICAgIGdldERpZmZpY3VsdHkoZGlmZmljdWx0eSkgewogICAgICBpZiAoIWRpZmZpY3VsdHkpIHJldHVybiAnJwogICAgICBpZiAoZGlmZmljdWx0eS5pbmNsdWRlcygn566A5Y2VJykpIHJldHVybiAn566A5Y2VJwogICAgICBpZiAoZGlmZmljdWx0eS5pbmNsdWRlcygn5Lit562JJykpIHJldHVybiAn5Lit562JJwogICAgICBpZiAoZGlmZmljdWx0eS5pbmNsdWRlcygn5Zuw6Zq+JykpIHJldHVybiAn5Zuw6Zq+JwogICAgICByZXR1cm4gJycKICAgIH0sCiAgICBnZXREaWZmaWN1bHR5Q2xhc3MoZGlmZmljdWx0eSkgewogICAgICBpZiAoIWRpZmZpY3VsdHkpIHJldHVybiAnJwogICAgICBpZiAoZGlmZmljdWx0eS5pbmNsdWRlcygn566A5Y2VJykpIHJldHVybiAnZWFzeScKICAgICAgaWYgKGRpZmZpY3VsdHkuaW5jbHVkZXMoJ+S4reetiScpKSByZXR1cm4gJ21lZGl1bScKICAgICAgaWYgKGRpZmZpY3VsdHkuaW5jbHVkZXMoJ+WbsOmavicpKSByZXR1cm4gJ2hhcmQnCiAgICAgIHJldHVybiAnJwogICAgfSwKICAgIG9uU2VsZWN0ZWRUYWdDaGFuZ2UoZSkgewogICAgICB0aGlzLnNlbGVjdGVkVGFnID0gZS50YXJnZXQudmFsdWUKICAgIH0sCiAgICBiYXNpY0FjdGl2ZSgpIHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpID49IHN0YXJ0VGltZQogICAgfSwKICAgIHRvcGljQWN0aXZlKCkgewogICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgPj0gbmV3IERhdGUoJzIwMjEtMDYtMDcgMTY6MDA6MDAgR01UJykKICAgIH0sCiAgICBhZHZhbmNlQWN0aXZlKCkgewogICAgICByZXR1cm4gZmFsc2UKICAgIH0sCiAgICBnZXREYWlseVByb2JsZW0oZGF5KSB7CiAgICAgIHRoaXMuZmV0Y2hpbmdEYWlseVByb2JsZW0gPSB0cnVlCiAgICAgIHJldHVybiBnZXREYWlseVByb2JsZW0oZGF5KQogICAgICAgIC50aGVuKGRhaWx5UHJvYmxlbSA9PiB7CiAgICAgICAgICB0aGlzLmRhaWx5UHJvYmxlbSA9IGRhaWx5UHJvYmxlbQogICAgICAgICAgdGhpcy5mZXRjaGluZ0RhaWx5UHJvYmxlbSA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZGFpbHlQcm9ibGVtCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgIHRoaXMuZmV0Y2hpbmdEYWlseVByb2JsZW0gPSBmYWxzZQogICAgICAgIH0pCiAgICB9LAogICAgZ2V0TXlTb2x1dGlvbnMoKSB7CiAgICAgIHJldHVybiBnZXRNeVNvbHV0aW9ucygpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgdGhpcy5teVNvbHV0aW9ucyA9IGRhdGEuZmlsdGVyKChfLCBpKSA9PiBnZXREYXkoKSA+PSBpICsgMSkKICAgICAgICB0aGlzLmFsbFRhZ3MgPSBkYXRhCiAgICAgICAgICAubWFwKHEgPT4gcS50YWdzKQogICAgICAgICAgLnJlZHVjZSgoYWNjLCB0YWdzKSA9PiB7CiAgICAgICAgICAgIHRhZ3MuZm9yRWFjaCh0YWcgPT4gYWNjLmFkZCh0YWcpKQogICAgICAgICAgICByZXR1cm4gYWNjCiAgICAgICAgICB9LCBuZXcgU2V0KFsn5YWo6YOoJ10pKQogICAgICB9KQogICAgfSwKICAgIGRpc2FibGVkRGF0ZShtb21lbnQpIHsKICAgICAgY29uc3QgZCA9IGdldERheShtb21lbnQudmFsdWVPZigpKQogICAgICBjb25zb2xlLmxvZyhkLCBtb21lbnQudmFsdWVPZigpID4gbmV3IERhdGUoKS5nZXRUaW1lKCkpCiAgICAgIC8vIOa0u+WKqOW8gOWni+WOu+mZpOS4i+mdouazqOmHigogICAgICBpZiAobW9tZW50LnZhbHVlT2YoKSA+IG5ldyBEYXRlKCkuZ2V0VGltZSgpKSByZXR1cm4gdHJ1ZQogICAgICByZXR1cm4gZCA8IDEgfHwgZCA+IDkxCiAgICB9LAogICAgaGFzaENvbG9yKHRleHQpIHsKICAgICAgaWYgKCF0ZXh0KSByZXR1cm4gJycKICAgICAgbGV0IGFjYyA9IDAKICAgICAgZm9yIChjb25zdCBpIGluIHRleHQpIHsKICAgICAgICBhY2MgPSAoYWNjICsgdGV4dC5jaGFyQ29kZUF0KGkpKSAlIHRoaXMuY29sb3JzLmxlbmd0aAogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmNvbG9yc1thY2NdCiAgICB9LAogICAgYXN5bmMgb25EYXRlQ2hhbmdlZCh2KSB7CiAgICAgIGF3YWl0IHRoaXMuZ2V0RGFpbHlQcm9ibGVtKHYudmFsdWVPZigpKQoKICAgICAgcmV0dXJuIGxvYWRDb21tZW50KHsKICAgICAgICBpZDogU3RyaW5nKHRoaXMuZGFpbHlQcm9ibGVtLmRheSksCiAgICAgICAgLi4udGhpcy5kYWlseVByb2JsZW0KICAgICAgfSkKICAgIH0sCiAgICBoYW5kbExvZ291dENsaWNrKCkgewogICAgICBsb2dvdXQoKS50aGVuKCgpID0+IHsKICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGBodHRwczovLyR7b3JpZ2luYWxIb3N0bmFtZX0vOTFgCiAgICAgIH0pCiAgICB9CiAgICAvLyBzdWJtaXRDb2RlKCkgewogICAgLy8gICBjb25zdCB7IGxpbmssIHRpdGxlIH0gPSB0aGlzLmRhaWx5UHJvYmxlbQogICAgLy8gICBjb25zdCBpZCA9ICt0aXRsZS5tYXRjaCgvWzEtOV0rLylbMF0KICAgIC8vICAgaWYgKCFpZCkgewogICAgLy8gICAgIHJldHVybiBtZXNzYWdlLmVycm9yKCflvZPml6XorrLkuYnmoLzlvI/mnInor6/vvIzor7fogZTns7vorrLluIghJykKICAgIC8vICAgfQogICAgLy8gICBjb25zdCBzbHVnID0gbGluawogICAgLy8gICAgIC5zcGxpdCgnLycpCiAgICAvLyAgICAgLnJldmVyc2UoKQogICAgLy8gICAgIC5maW5kKGl0ZW0gPT4gaXRlbSkKICAgIC8vICAgbGV0IG5lZWRDbGVhckxjU3RvcmFnZSA9IGZhbHNlCiAgICAvLyAgIHJlcXVlc3QoewogICAgLy8gICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgLy8gICAgIHVybDogJy9hcGkvdjEvbGMvc3VibWl0Q29kZScsCiAgICAvLyAgICAgaGVhZGVyczogdGhpcy5nZXRMY1JlcXVlc3RIZWFkZXIoKSwKICAgIC8vICAgICBkYXRhOiB7CiAgICAvLyAgICAgICBsaW5rLAogICAgLy8gICAgICAgbGFuZzogdGhpcy5jb2RlTGFuZ3VhZ2UsCiAgICAvLyAgICAgICBpZCwKICAgIC8vICAgICAgIHNsdWcsCiAgICAvLyAgICAgICBjb2RlOiB0aGlzLiRyZWZzLmNvZGVFZGl0b3IuZ2V0RWRpdG9yVmFsdWUoKQogICAgLy8gICAgIH0KICAgIC8vICAgfSkKICAgIC8vICAgICAudGhlbihkYXRhID0+IHsKICAgIC8vICAgICAgIGNvbnN0IHsgc3VibWlzc2lvbl9pZDogc3ViTWlzc2lvbklkIH0gPSBkYXRhCiAgICAvLyAgICAgICBpZiAoc3ViTWlzc2lvbklkKSB7CiAgICAvLyAgICAgICAgIG1lc3NhZ2UuaW5mbygn6aKY6Kej5o+Q5Lqk5oiQ5YqfJykKICAgIC8vICAgICAgICAgdGhpcy5zZXRMY0RhdGFJbkxzKGRhdGEpCiAgICAvLyAgICAgICAgIC8vIOaVsOaNruaMgeS5heWMluOAguWwhuW9k+WJjeeUqOaIt+eahOaJk+WNoeS/oeaBr+WFpeW6kwogICAgLy8gICAgICAgICAvLyBUT0RPOiDlvLnlh7rlhpnpopjop6PnmoTlvLnnqpfvvIjljbPkvb/kuI3lhpnpopjop6PkuZ/nrpfmiZPljaHmiJDlip/vvIkKICAgIC8vICAgICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAgIHRocm93IGRhdGEKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9KQogICAgLy8gICAgIC5jYXRjaCgoZGF0YSA9IHt9KSA9PiB7CiAgICAvLyAgICAgICBtZXNzYWdlLmRlc3Ryb3koKQogICAgLy8gICAgICAgLy8g5aaC5p6c54q25oCB56CB5Li6NDAzLOS7o+ihqOmcgOimgeeUqOaIt+mHjeaWsOi+k+WFpeS4gOmBjei0puWPt+S4juWvhueggSzov5nml7bpnIDopoHmuIXnqbrkuIDms6LnvJPlrZgKICAgIC8vICAgICAgIG5lZWRDbGVhckxjU3RvcmFnZSA9IGRhdGEuY29kZSA9PT0gNDAzCiAgICAvLyAgICAgICBtZXNzYWdlLmVycm9yKGRhdGEubWVzc2FnZSB8fCAn6aKY6Kej5o+Q5Lqk5aSx6LSlJykKICAgIC8vICAgICB9KQogICAgLy8gICAgIC5maW5hbGx5KCgpID0+IHsKICAgIC8vICAgICAgIC8vIOa4heepuue8k+WtmAogICAgLy8gICAgICAgaWYgKG5lZWRDbGVhckxjU3RvcmFnZSkgewogICAgLy8gICAgICAgICB0aGlzLmNsZWFyTGNEYXRhSW5McygpCiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgICB0aGlzLmxjQWNjb3VudEZvcm1TaG93ID0gIXRoaXMuaGFzTGNSZXF1c3REYXRhSW5McygpCiAgICAvLyAgICAgfSkKICAgIC8vIH0KICAgIC8vIGhhbmRsZUxjQWNjb3VudExvZ2luKGUpIHsKICAgIC8vICAgZS5wcmV2ZW50RGVmYXVsdCgpCiAgICAvLyAgIGNvbnN0IGRhdGEgPSB0aGlzLmZvcm0uZ2V0RmllbGRzVmFsdWUoKQogICAgLy8gICBsZXQgbmVlZENsZWFyTGNTdG9yYWdlID0gZmFsc2UKICAgIC8vICAgcmVxdWVzdCh7CiAgICAvLyAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAvLyAgICAgdXJsOiAnL2FwaS92MS9sYy9zdWJtaXRMY0FjY291bnQnLAogICAgLy8gICAgIGhlYWRlcnM6IHRoaXMuZ2V0TGNSZXF1ZXN0SGVhZGVyKCksCiAgICAvLyAgICAgZGF0YQogICAgLy8gICB9KQogICAgLy8gICAgIC50aGVuKGRhdGEgPT4gewogICAgLy8gICAgICAgbWVzc2FnZS5pbmZvKGRhdGEubWVzc2FnZSB8fCAn55m76ZmG5oiQ5YqfJykKICAgIC8vICAgICAgIHRoaXMuc2V0TGNEYXRhSW5McyhkYXRhKQogICAgLy8gICAgIH0pCiAgICAvLyAgICAgLmNhdGNoKChkYXRhID0ge30pID0+IHsKICAgIC8vICAgICAgIG1lc3NhZ2UuZGVzdHJveSgpCiAgICAvLyAgICAgICBtZXNzYWdlLmVycm9yKGRhdGEubWVzc2FnZSB8fCAn55m76ZmG5aSx6LSlJykKICAgIC8vICAgICAgIC8vIOWmguaenOeKtuaAgeeggeS4ujQwMyzku6PooajpnIDopoHnlKjmiLfph43mlrDovpPlhaXkuIDpgY3otKblj7fkuI7lr4bnoIEs6L+Z5pe26ZyA6KaB5riF56m65LiA5rOiY29va2llCiAgICAvLyAgICAgICBuZWVkQ2xlYXJMY1N0b3JhZ2UgPSBkYXRhLmNvZGUgPT09IDQwMwogICAgLy8gICAgIH0pCiAgICAvLyAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgLy8gICAgICAgLy8g5riF56m657yT5a2YCiAgICAvLyAgICAgICBpZiAobmVlZENsZWFyTGNTdG9yYWdlKSB7CiAgICAvLyAgICAgICAgIHRoaXMuY2xlYXJMY0RhdGFJbkxzKCkKICAgIC8vICAgICAgIH0KICAgIC8vICAgICAgIHRoaXMubGNBY2NvdW50Rm9ybVNob3cgPSAhdGhpcy5oYXNMY1JlcXVzdERhdGFJbkxzKCkKICAgIC8vICAgICB9KQogICAgLy8gfSwKICAgIC8vIGdldExjUmVxdWVzdEhlYWRlcihoZWFkZXIgPSB7fSkgewogICAgLy8gICBjb25zdCBhcnIgPSBbCiAgICAvLyAgICAgXzkxVXNlcm5hbWVMc05hbWUsCiAgICAvLyAgICAgXzkxUHdkTHNOYW1lLAogICAgLy8gICAgIGxjU2Vlc2lvbkNvb2tpZU5hbWUsCiAgICAvLyAgICAgbGNDc3JmdG9rZW5Db29raWVOYW1lCiAgICAvLyAgIF0KICAgIC8vICAgY29uc3QgZGF0YSA9IGFyci5yZWR1Y2UoKG9iaiwga2V5KSA9PiB7CiAgICAvLyAgICAgY29uc3QgdmFsID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkKICAgIC8vICAgICBpZiAodmFsKSB7CiAgICAvLyAgICAgICBvYmpba2V5XSA9IHZhbAogICAgLy8gICAgIH0KICAgIC8vICAgICByZXR1cm4gb2JqCiAgICAvLyAgIH0sIHt9KQogICAgLy8gICByZXR1cm4gT2JqZWN0LmFzc2lnbihoZWFkZXIsIGRhdGEpCiAgICAvLyB9LAogICAgLy8gc2V0TGNEYXRhSW5McyhkYXRhKSB7CiAgICAvLyAgIGxjRGF0YUtleXMuZm9yRWFjaChrZXkgPT4gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgZGF0YVtrZXldKSkKICAgIC8vIH0sCiAgICAvLyBjbGVhckxjRGF0YUluTHMoKSB7CiAgICAvLyAgIGxjRGF0YUtleXMuZm9yRWFjaChrZXkgPT4gd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSkpCiAgICAvLyB9LAogICAgLy8gaGFzTGNSZXF1c3REYXRhSW5McygpIHsKICAgIC8vICAgY29uc3QgcmVxdWVzdEtleXMgPSBbXzkxVXNlcm5hbWVMc05hbWUsIF85MVB3ZExzTmFtZV0KICAgIC8vICAgcmV0dXJuIHJlcXVlc3RLZXlzLmV2ZXJ5KGtleSA9PiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSkKICAgIC8vIH0KICB9LAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICBjb25zdCB1cmxUYWIgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKAogICAgICBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKS5zZWFyY2gKICAgICkuZ2V0KCd0YWInKQoKICAgIHRoaXMuaGFuZGxlQWN0aXZlVGFiQ2hhbmdlKHVybFRhYiB8fCAnYWdlbmRhJykKCiAgICBmdW5jdGlvbiBmYWxsYmFja01ldGEoKSB7CiAgICAgIGlmICghdGhpcy5tZXRhLmxlY3R1cmVzLmludHJvKSB7CiAgICAgICAgdGhpcy5tZXRhLmxlY3R1cmVzLmludHJvID0gewogICAgICAgICAgbGFzdFVwZGF0ZVRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gTVNfUEVSX0RBWSAqIDMwCiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoIXRoaXMubWV0YS5sZWN0dXJlcy5iYXNpYykgewogICAgICAgIHRoaXMubWV0YS5sZWN0dXJlcy5iYXNpYyA9IHsKICAgICAgICAgIGxhc3RVcGRhdGVUaW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIE1TX1BFUl9EQVkgKiAzMAogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKCF0aGlzLm1ldGEubGVjdHVyZXMudG9waWMpIHsKICAgICAgICB0aGlzLm1ldGEubGVjdHVyZXMudG9waWMgPSB7CiAgICAgICAgICBsYXN0VXBkYXRlVGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBNU19QRVJfREFZICogMzAKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5tZXRhLmxlY3R1cmVzLmFkdmFuY2UpIHsKICAgICAgICB0aGlzLm1ldGEubGVjdHVyZXMuYWR2YW5jZSA9IHsKICAgICAgICAgIGxhc3RVcGRhdGVUaW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIE1TX1BFUl9EQVkgKiAzMAogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZhbGxiYWNrTWV0YS5jYWxsKHRoaXMpCgogICAgZ2V0TWV0YSgpLnRoZW4oZGF0YSA9PiB7CiAgICAgIHRoaXMubWV0YSA9IGRhdGEKICAgICAgZmFsbGJhY2tNZXRhLmNhbGwodGhpcykKICAgIH0pCgogICAgdHJ5IHsKICAgICAgdGhpcy5mZXRjaGluZ1VzZXJJbmZvID0gdHJ1ZQogICAgICBjb25zdCB7CiAgICAgICAgcGF5LAogICAgICAgIG1lc3NhZ2UsCiAgICAgICAgbmFtZSwKICAgICAgICBsb2dpbiwKICAgICAgICBhdmF0YXJfdXJsOiBhdmF0YXIsCiAgICAgICAgbGVldGNvZGVVc2VybmFtZSwKICAgICAgICBub0NoZWNrLAogICAgICAgIGFsbENoZWNrCiAgICAgIH0gPSAoYXdhaXQgZ2V0VXNlckluZm8odGhpcy4kcm91dGUucXVlcnkuY29kZSkpIHx8IHt9CgogICAgICBpZiAobWVzc2FnZSA9PT0gJ0JhZCBjcmVkZW50aWFscycpIHsKICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICfnmbvlvZXlt7Lov4fmnJ/vvIzor7fph43mlrDnmbvlvZV+JwogICAgICB9CiAgICAgIHRoaXMuYXZhdGFyID0gYXZhdGFyCiAgICAgIHRoaXMucGF5ID0gcGF5CiAgICAgIHRoaXMubmFtZSA9IG5hbWUgfHwgbG9naW4KICAgICAgdGhpcy5sb2dpbiA9IGxvZ2luCiAgICAgIHRoaXMubm9DaGVjayA9IG5vQ2hlY2sKICAgICAgdGhpcy5hbGxDaGVjayA9IGFsbENoZWNrCiAgICAgIHRoaXMubGVldGNvZGVVc2VybmFtZSA9IGxlZXRjb2RlVXNlcm5hbWUgfHwgJycKICAgICAgdGhpcy5jb250ZXN0UmFua2luZ3MgPSAoY29udGVzdHNbdGhpcy5sZWV0Y29kZVVzZXJuYW1lXSB8fCBbXSkuZmlsdGVyKAogICAgICAgIHJlcyA9PiByZXMgJiYgcmVzLnNjb3JlID4gMAogICAgICApCiAgICAgIHRoaXMuaXNUZXN0VXNlID0gdGhpcy4kcm91dGUucXVlcnkuaXNUZXN0CgogICAgICAvLyB0aGlzLmxjQWNjb3VudEZvcm1TaG93ID0gIXRoaXMuaGFzTGNSZXF1c3REYXRhSW5McygpCiAgICB9IGZpbmFsbHkgewogICAgICB0aGlzLmZldGNoaW5nVXNlckluZm8gPSBmYWxzZQogICAgfQogIH0KfQo="},{"version":3,"sources":["91algo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAihBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"91algo.vue","sourceRoot":"src/views/91","sourcesContent":["<template>\n  <div>\n    <div v-if=\"!started\">\n      <div>\n        我们\n        <span class=\"time\">{{\n          new Date(startTime).toLocaleDateString('en-CA')\n        }}</span>\n        见~\n      </div>\n\n      <counter :time=\"time\" />\n    </div>\n    <a-spin :spinning=\"fetchingUserInfo\">\n      <div v-if=\"!pay\">\n        <a-alert\n          :message=\"\n            errorMessage + (noCheck ? '(由于连续七天未打卡，已被移除)' : '')\n          \"\n          type=\"error\"\n        />\n        <a-button v-if=\"!name\" type=\"link\" :href=\"loginUrl\"\n          >Github 登录</a-button\n        >\n        <a-button\n          type=\"link\"\n          href=\"https://github.com/azl397985856/leetcode/discussions/532\"\n          >活动介绍及报名方式</a-button\n        >\n      </div>\n\n      <div class=\"hello\" v-if=\"name\">\n        <a-avatar :size=\"64\" :src=\"avatar\" />\n        <div>\n          欢迎回来，{{ name }} （{{ login }}）~ 今天有没有比昨天进步一点点呢？\n\n          <a-button type=\"link\" @click=\"handlLogoutClick\">退出登录</a-button>\n        </div>\n      </div>\n      <div>\n        <b>\n          {{\n            allCheck\n              ? '少年好武功啊！竟然满勤？坚持下去，活动结束的抽奖我看好你哦~'\n              : ''\n          }}\n        </b>\n      </div>\n    </a-spin>\n\n    <div>\n      <!-- 正在为大家准备讲义~ TODO: 讲师介绍，讲义查看，打卡跳到\n      Github（做到如果不打卡，\n      用这个网站就够了就行了。再多一点新花样，比如上面提到的讲师介绍等等） -->\n\n      <a-tabs :activeKey=\"activeTab\" @change=\"handleActiveTabChange\">\n        <a-tab-pane key=\"teachers\" tab=\"讲师介绍\">\n          <a-list\n            item-layout=\"horizontal\"\n            :data-source=\"teachers\"\n            class=\"teachers\"\n          >\n            <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n              <a-list-item-meta\n                :description=\"item.description || '这个人太懒了，什么也没有写'\"\n              >\n                <a slot=\"title\" :href=\"item.homepage\">{{ item.title }}</a>\n                <a-avatar slot=\"avatar\" :src=\"item.avatar\" />\n              </a-list-item-meta>\n              <div class=\"more\">\n                <a-tag\n                  :color=\"item.color\"\n                  :key=\"item.name\"\n                  v-for=\"item in item.modules\"\n                >\n                  {{ item.name }}\n                </a-tag>\n                <a-button\n                  type=\"link\"\n                  v-if=\"item.homepage\"\n                  :href=\"item.homepage\"\n                  target=\"_blank\"\n                  >关注 ta</a-button\n                >\n              </div>\n            </a-list-item>\n          </a-list>\n        </a-tab-pane>\n        <a-tab-pane key=\"agenda\" tab=\"时间表\">\n          <div class=\"timeline\">\n            <a-timeline mode=\"alternate\">\n              <a-timeline-item color=\"green\">\n                <h3>先导篇（{{ timeRange.basic[0] }} 前）</h3>\n                <p v-for=\"lecture in introLectures\" :key=\"lecture.id\">\n                  {{ lecture.title }}\n                </p>\n\n                <p />\n              </a-timeline-item>\n              <a-timeline-item :color=\"basicActive() ? 'green' : 'gray'\">\n                <h3>\n                  基础篇 （{{ timeRange.basic[0] }} - {{ timeRange.basic[1] }}）\n                </h3>\n                <p v-for=\"lecture in basicLectures\" :key=\"lecture.id\">\n                  {{ lecture.title }}\n                </p>\n              </a-timeline-item>\n\n              <a-timeline-item :color=\"topicActive() ? 'green' : 'gray'\">\n                <h3>\n                  专题篇 （{{ timeRange.topic[0] }} - {{ timeRange.topic[1] }}）\n                </h3>\n                <p v-for=\"lecture in topicLectures\" :key=\"lecture.id\">\n                  {{ lecture.title }}\n                </p>\n              </a-timeline-item>\n              <a-timeline-item :color=\"advanceActive() ? 'green' : 'gray'\">\n                <h3>\n                  进阶篇 （{{ timeRange.advanced[0] }} -\n                  {{ timeRange.advanced[1] }}）\n                </h3>\n                <p v-for=\"lecture in advanceLectures\" :key=\"lecture.id\">\n                  {{ lecture.title }}\n                </p>\n              </a-timeline-item>\n            </a-timeline>\n          </div>\n        </a-tab-pane>\n        <a-tab-pane key=\"sign\" tab=\"打卡\" :disabled=\"!pay\">\n          <!-- 后期考虑使用 https://microsoft.github.io/monaco-editor/index.html 来进行本地打卡 -->\n          <div v-if=\"dailyProblem.issue_number\">\n            <!-- 本期暂时不支持在此打卡，还请大家去\n            <a-button\n              type=\"link\"\n              :href=\"\n                'https://github.com/leetcode-pp/91alg-5/issues/' +\n                  dailyProblem.issue_number\n              \"\n              target=\"_blank\"\n              >仓库</a-button\n            >\n            找到当天的题目进行打卡~ (如果出现 404 请参考\n            <a @click=\"$router.push({ query: { tab: 'faq' } })\"\n              >FAQ 的解决方案</a\n            >) -->\n          </div>\n          <div v-else>\n            仓库暂时没有更新今天的题目，会有大约一个小时以内的延迟，大家耐心等待下哦~\n          </div>\n          <div>\n            <a-button\n              type=\"link\"\n              v-if=\"dailyProblem.day\"\n              :href=\"\n                '/solutionDetail?type=3&id=' +\n                  dailyProblem.day +\n                  '&max_id=' +\n                  2 || getDay()\n              \"\n              >查看官方题解</a-button\n            >\n\n            <a-button type=\"primary\" size=\"small\" @click=\"showHistory = true\">\n              历史每日一题\n            </a-button>\n          </div>\n          <a-drawer\n            width=\"400\"\n            title=\"历史每日一题\"\n            placement=\"right\"\n            :closable=\"true\"\n            @close=\"showHistory = false\"\n            :visible=\"showHistory\"\n          >\n            <a-calendar\n              :disabledDate=\"disabledDate\"\n              :fullscreen=\"false\"\n              @change=\"onDateChanged\"\n            >\n              <template slot=\"dateFullCellRender\" slot-scope=\"value\">{{\n                renderDay(value)\n              }}</template>\n            </a-calendar>\n          </a-drawer>\n          <a-spin :spinning=\"fetchingDailyProblem\">\n            <Q :dailyProblem=\"dailyProblem\" />\n          </a-spin>\n\n          <div>\n            <!-- <a-form\n              v-show=\"lcAccountFormShow\"\n              :form=\"form\"\n              @submit=\"handleLcAccountLogin\"\n            >\n              <a-form-item\n                label=\"用户名\"\n                :label-col=\"{ span: 5 }\"\n                :wrapper-col=\"{ span: 12 }\"\n              >\n                <a-input v-decorator=\"['login']\" />\n              </a-form-item>\n              <a-form-item\n                label=\"密码\"\n                :label-col=\"{ span: 5 }\"\n                :wrapper-col=\"{ span: 12 }\"\n              >\n                <a-input type=\"password\" v-decorator=\"['password']\" />\n              </a-form-item>\n              <a-form-item :wrapper-col=\"{ span: 12, offset: 5 }\">\n                <a-button type=\"primary\" html-type=\"submit\"\n                  >登录 LeetCode</a-button\n                >\n              </a-form-item>\n            </a-form>\n\n            <div class=\"code-btns\">\n              <a-select\n                :disabled=\"lcAccountFormShow\"\n                :default-value=\"codeLanguage\"\n                style=\"width: 120px\"\n                v-model=\"codeLanguage\"\n              >\n                <a-select-option\n                  v-for=\"item in supportLanguage\"\n                  :value=\"item\"\n                  :key=\"item\"\n                >\n                  {{ item }}\n                </a-select-option>\n              </a-select>\n              <a-button\n                :disabled=\"lcAccountFormShow\"\n                @click=\"submitCode\"\n                type=\"primary\"\n              >\n                提交代码\n              </a-button>\n            </div>\n\n            <code-editor\n              :theme=\"codeTheme\"\n              :language=\"codeLanguage\"\n              ref=\"codeEditor\"\n              class=\"code-panel\"\n            ></code-editor> -->\n\n            <div id=\"gitalk-container\" style=\"text-align: left\"></div>\n          </div>\n        </a-tab-pane>\n        <a-tab-pane key=\"jy0\" tab=\"讲义（先导篇）\">\n          <div style=\"margin: 10px 0\">\n            最近更新时间： {{ new Date(meta.lectures.intro.lastUpdateTime) }}\n          </div>\n          <card :cards=\"introLectures\" :loading=\"fetchingLectures\" />\n        </a-tab-pane>\n        <a-tab-pane key=\"jy1\" tab=\"讲义（基础篇）\" :disabled=\"disableBasic\">\n          <div style=\"margin: 10px 0\">\n            最近更新时间： {{ new Date(meta.lectures.basic.lastUpdateTime) }}\n          </div>\n          <card :cards=\"basicLectures\" :loading=\"fetchingLectures\" />\n        </a-tab-pane>\n\n        <a-tab-pane key=\"jy2\" tab=\"讲义（专题篇）\" :disabled=\"disableTopic\">\n          <div style=\"margin: 10px 0\">\n            最近更新时间： {{ new Date(meta.lectures.topic.lastUpdateTime) }}\n          </div>\n          <card :cards=\"topicLectures\" :loading=\"fetchingLectures\" />\n        </a-tab-pane>\n        <a-tab-pane key=\"jy3\" tab=\"讲义（进阶篇）\" :disabled=\"disableAdvanced\">\n          <div style=\"margin: 10px 0\">\n            最近更新时间： {{ new Date(meta.lectures.advance.lastUpdateTime) }}\n          </div>\n          <card :cards=\"advanceLectures\" :loading=\"fetchingLectures\" />\n        </a-tab-pane>\n\n        <!-- <a-tab-pane key=\"ebook\" tab=\"电子书\" disabled>\n          尚未开启\n        </a-tab-pane> -->\n\n        <a-tab-pane key=\"top-students\" tab=\"上榜墙\">\n          <a-radio-group\n            v-model=\"currentStudentTab\"\n            @change=\"e => (currentStudentTab = e.target.value)\"\n          >\n            <a-radio-button value=\"ranking\"> 打卡排行榜 </a-radio-button>\n            <a-radio-button value=\"interview\">\n              往期优秀学员专访\n            </a-radio-button>\n          </a-radio-group>\n\n          <div v-if=\"currentStudentTab === 'ranking'\">\n            <a-spin :spinning=\"fetchingRank\">\n              <div style=\"margin: 10px 0\">\n                最近更新时间： {{ new Date(meta.checkIn.lastUpdateTime) }}\n              </div>\n              <ranking :rankings=\"rankings\" />\n            </a-spin>\n          </div>\n          <div v-else>\n            <a-list\n              item-layout=\"horizontal\"\n              :data-source=\"students\"\n              class=\"students\"\n            >\n              <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n                <a-list-item-meta\n                  :description=\"\n                    item.description || '这个人太懒了，什么也没有写'\n                  \"\n                >\n                  <a slot=\"title\" :href=\"item.homepage\">{{ item.title }}</a>\n                  <a-avatar slot=\"avatar\" :src=\"item.avatar\" />\n                </a-list-item-meta>\n                <div class=\"more\">\n                  <a-tag\n                    :color=\"hashColor(item)\"\n                    :key=\"item\"\n                    v-for=\"item in item.tags\"\n                  >\n                    {{ item }}\n                  </a-tag>\n                  <a-button\n                    type=\"link\"\n                    :href=\"\n                      `/solutionDetail?type=4&id=${item.id}&max_id=${Math.max(\n                        ...students.map(q => q.id)\n                      )}`\n                    \"\n                    target=\"_blank\"\n                    >听听 ta 的故事</a-button\n                  >\n                </div>\n              </a-list-item>\n            </a-list>\n          </div>\n        </a-tab-pane>\n\n        <a-tab-pane key=\"my\" tab=\"我的\" :disabled=\"!pay\">\n          <a-radio-group\n            v-model=\"currentMyTab\"\n            @change=\"e => (currentMyTab = e.target.value)\"\n          >\n            <a-radio-button value=\"history\"> 打卡记录 </a-radio-button>\n            <a-radio-button value=\"homework\">\n              作业\n            </a-radio-button>\n          </a-radio-group>\n\n          <div v-if=\"currentMyTab === 'history'\">\n            <div style=\"margin: 10px 0\">\n              最近更新时间： {{ new Date(meta.dailyCheck.lastUpdateTime) }}\n            </div>\n            <div style=\"margin: 10px 0\">\n              上次全量更新时间：\n              {{ new Date(meta.dailyCheck.lastFulllyUpdateTime) }}\n            </div>\n\n            <div style=\"margin: 10px 0\">\n              这里的打卡记录\n              <b>不是实时的</b\n              >，如果你刚打完卡，这里没有看到是正常的，大家可以根据最近更新时间来辅助判断。\n            </div>\n\n            <div v-if=\"!fetchingPersonalProgress && mySolutions.length === 0\">\n              活动尚未开始~\n            </div>\n            <a-spin v-else :spinning=\"fetchingPersonalProgress\">\n              <a-radio-group\n                v-model=\"selectedTag\"\n                @change=\"onSelectedTagChange\"\n              >\n                <a-radio-button v-for=\"tag in allTags\" :value=\"tag\" :key=\"tag\">\n                  {{ tag }}\n                </a-radio-button>\n              </a-radio-group>\n\n              <div\n                :key=\"i\"\n                v-for=\"(solution, i) in mySolutions.filter(\n                  s => selectedTag === '全部' || s.tags.includes(selectedTag)\n                )\"\n                class=\"my-solution\"\n              >\n                <div v-if=\"solution\">\n                  {{\n                    solution.tags.length > 0\n                      ? '【' + solution.tags.join('，') + '】'\n                      : ''\n                  }}\n\n                  <span :class=\"getDifficultyClass(solution.difficulty)\">\n                    {{ getDifficulty(solution.difficulty) }}\n                  </span>\n                  <a-button\n                    type=\"link\"\n                    :href=\"\n                      solution.url ||\n                        'https://github.com/' +\n                          DAILY_CHECK_OWNER +\n                          '/' +\n                          DAILY_CHECK_REPO +\n                          '/issues/' +\n                          solution.issue_number\n                    \"\n                  >\n                    【Day {{ solution.day }}】{{ solution.title }}\n                  </a-button>\n                  <div class=\"icon\">\n                    <a-tooltip v-if=\"solution.onTime === true\">\n                      <template slot=\"title\"> 打卡成功 </template>\n                      <a-icon style=\"color: green\" type=\"check\" />\n                    </a-tooltip>\n\n                    <a-tooltip v-else-if=\"solution.onTime === false\">\n                      <template slot=\"title\"> 补卡成功 </template>\n                      <a-icon style=\"color: orange\" type=\"issues-close\" />\n                    </a-tooltip>\n\n                    <a-tooltip\n                      v-else-if=\"\n                        getDay() === i + 1 ||\n                          (getDay(meta.dailyCheck.lastUpdateTime) < getDay() &&\n                            getDay(lastFulllyUpdateTime) < getDay())\n                      \"\n                    >\n                      <template slot=\"title\">\n                        未打卡或者正在更新打卡状态（打卡后一般一个小时之内会更新）\n                      </template>\n                      <a-icon type=\"clock-circle\" />\n                    </a-tooltip>\n\n                    <a-icon style=\"color: red\" v-else type=\"close\" />\n                  </div>\n                </div>\n              </div>\n            </a-spin>\n          </div>\n          <div v-else>\n            <ul class=\"align-l\">\n              <!-- <div v-if=\"!leetcodeUsername\" class=\"align-c m-top-bottom-sm\">\n                抱歉，你还没有关联 LeetCode\n                账号。并且由于目前功能未开放，需要等到功能开启后联系 lucifer\n                告知你的 github 和 leetcode 账号进行关联。\n\n                <counter\n                  :time=\"upcommingContest.time\"\n                  :prefix=\"'下次周赛 Weekly ' + upcommingContest.id\"\n                />\n              </div> -->\n\n              <!-- <ol>\n                完成 3 次<a\n                  href=\"https://leetcode-cn.com/contest/\"\n                  target=\"_blank\"\n                  >竞赛</a\n                >\n                ({{\n                  contestRankings.length\n                }}/3)\n              </ol> -->\n\n              <ol\n                v-if=\"\n                  new Date().getTime() > new Date(timeRange.basic[0]).getTime()\n                \"\n              >\n                <div v-for=\"homework in homeworks.basic\" :key=\"homework.title\">\n                  <a-button type=\"link\" :href=\"homework.lectureUrl\">\n                    {{ homework.title }}</a-button\n                  >\n                  <div>\n                    {{ homework.desc }}\n                  </div>\n                  <a-button type=\"link\" :href=\"homework.issueUrl\">\n                    讨论\n                  </a-button>\n                </div>\n              </ol>\n\n              <ol\n                v-if=\"\n                  new Date().getTime() > new Date(timeRange.topic[0]).getTime()\n                \"\n              >\n                <div v-for=\"homework in homeworks.topic\" :key=\"homework.title\">\n                  <a-button type=\"link\" :href=\"homework.lectureUrl\">\n                    {{ homework.title }}</a-button\n                  >\n                  <div>\n                    {{ homework.desc }}\n                  </div>\n                  <a-button type=\"link\" :href=\"homework.issueUrl\">\n                    讨论\n                  </a-button>\n                </div>\n              </ol>\n\n              <ol\n                v-if=\"\n                  new Date().getTime() >\n                    new Date(timeRange.advanced[0]).getTime()\n                \"\n              >\n                <div\n                  v-for=\"homework in homeworks.advanced\"\n                  :key=\"homework.title\"\n                >\n                  <a-button type=\"link\" :href=\"homework.lectureUrl\">\n                    {{ homework.title }}</a-button\n                  >\n                  <div>\n                    {{ homework.desc }}\n                  </div>\n                  <a-button type=\"link\" :href=\"homework.issueUrl\">\n                    讨论\n                  </a-button>\n                </div>\n              </ol>\n            </ul>\n          </div>\n        </a-tab-pane>\n\n        <a-tab-pane key=\"faq\" tab=\"FAQ\"> <faq /> </a-tab-pane>\n      </a-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nimport counter from '@/components/Counter'\nimport 'gitalk/dist/gitalk.css'\nimport Gitalk from 'gitalk/dist/gitalk'\n// import request from '@/apis/request'\nimport Card from '@/components/Card'\nimport Rank from './ranking'\nimport Faq from './faq'\nimport {\n  getBasicLecture,\n  getIntroLecture,\n  getTopicLecture,\n  getAdvanceLecture,\n  getDailyProblem,\n  getMySolutions,\n  getRankings\n} from '@/apis/91'\nimport { getCommentApp } from '@/apis/github'\nimport { logout, getUserInfo } from '@/apis/user'\nimport Q from './QuestionDecription.vue'\nimport contests from './db/contest.json'\nimport baseContest from './db/baseContest.json'\nimport {\n  basicLectures,\n  introLectures,\n  advanceLectures,\n  topicLectures,\n  teachers,\n  timeRange,\n  homeworks\n} from './91.db.js'\nimport students from './students-talk'\nimport {\n  clientId,\n  originalHostname,\n  // hostname,\n  startTime,\n  DAILY_CHECK_REPO,\n  DAILY_CHECK_OWNER\n  // leetcodeConfig\n} from '../../config/index'\nimport { getMeta } from '@/apis/meta'\n// const {\n//   _91UsernameLsName,\n//   _91PwdLsName,\n//   lcSeesionCookieName,\n//   lcCsrftokenCookieName\n// } = leetcodeConfig\n// const lcDataKeys = [\n//   _91UsernameLsName,\n//   _91PwdLsName,\n//   lcSeesionCookieName,\n//   lcCsrftokenCookieName\n// ]\n// import CodeEditor from '../../components/Code'\n// import { message } from 'ant-design-vue'\n\nconst MS_PER_DAY = 24 * 60 * 60 * 1000\nconst DAYS_TO_PREPARE = 10 // 提前几天开放讲义\nconst DAYS_PER_WEEK = 7\nfunction getDay(date = new Date().getTime()) {\n  return ((date - startTime + MS_PER_DAY - 1) / MS_PER_DAY) >> 0\n}\n// 获取即将开始的下一次周赛信息\nfunction getUpcommingContest() {\n  let d = 0\n  const now = new Date().getTime()\n  while (baseContest.time + d * DAYS_PER_WEEK * MS_PER_DAY < now) {\n    d += 1\n  }\n  return {\n    id: baseContest.id + d,\n    time: baseContest.time + d * DAYS_PER_WEEK * MS_PER_DAY,\n    passed: false\n  }\n}\n\n// 将 id 和 tag 合并为 labels，然后根据 labels 查询仓库下符合条件的 issue，然后将 issue 下的 comments 展示出来。\nasync function loadComment({\n  id,\n  tags,\n  title = '',\n  description = '',\n  link = ''\n}) {\n  const { clientID, clientSecret } = await getCommentApp()\n\n  const gitalk = new Gitalk({\n    clientID,\n    clientSecret,\n    repo: DAILY_CHECK_REPO, // The repository of store comments,\n    owner: DAILY_CHECK_OWNER,\n    admin: ['azl397985856'],\n    body: `\n${description}\n${link}\n`,\n    id,\n    title,\n    perPage: 100,\n    labels: tags || [],\n    distractionFreeMode: true // Facebook-like distraction free mode\n  })\n  document.querySelector('#gitalk-container').innerHTML = ''\n\n  gitalk.render('gitalk-container')\n}\n\nexport default {\n  components: {\n    counter,\n    faq: Faq,\n    ranking: Rank,\n    card: Card,\n    Q\n    // CodeEditor\n  },\n  data() {\n    return {\n      noCheck: false,\n      allCheck: false,\n      DAILY_CHECK_REPO,\n      DAILY_CHECK_OWNER,\n      fetchingUserInfo: false,\n      fetchingDailyProblem: false,\n      fetchingLectures: false,\n      fetchingRank: false,\n      fetchingPersonalProgress: false,\n      isTestUse: false,\n      form: this.$form.createForm(this),\n      selectedTag: '全部',\n      allTags: ['全部'],\n      currentStudentTab: 'interview',\n      currentMyTab: 'history',\n      rankings: [], // 打卡排行。未来可能增加其他排行，比如点赞精选排行\n      contestRankings: [], // 参加竞赛的答题情况\n      contests,\n      upcommingContest: getUpcommingContest(),\n      leetcodeUsername: '', // leetcode 用户名\n      mySolutions: [],\n      showHistory: false,\n      colors: ['#f50', '#2db7f5', '#87d068', '#108ee9'],\n      name: '', // 当前登录人\n      avatar: '',\n      startTime,\n      meta: {\n        dailyCheck: new Date().getTime(),\n        checkIn: new Date().getTime(),\n        lectures: {\n          intro: {},\n          basic: {},\n          topic: {},\n          advance: {}\n        }\n      },\n      dailyProblem: {\n        title: '',\n        description: '',\n        link: '',\n        pres: [],\n        tags: [],\n        whys: []\n      },\n      basicLectures,\n      introLectures,\n      advanceLectures,\n      topicLectures,\n      teachers,\n      students,\n      timeRange,\n      homeworks,\n      disableBasic:\n        new Date().getTime() <=\n        new Date(timeRange.basic[0]).getTime() - DAYS_TO_PREPARE * MS_PER_DAY,\n      disableTopic:\n        new Date().getTime() <=\n        new Date(timeRange.topic[0]).getTime() - DAYS_TO_PREPARE * MS_PER_DAY,\n      disableAdvanced:\n        new Date().getTime() <=\n        new Date(timeRange.advanced[0]).getTime() -\n          DAYS_TO_PREPARE * MS_PER_DAY,\n      activeTab: 'teachers',\n      started: new Date().getTime() >= startTime,\n      time: startTime,\n      errorMessage: '很抱歉，当前页面部分内容需要付费且登录后才能访问~',\n      // logined: false, // 是否登录\n      pay: false, // 是否为付费用户\n      loginUrl: `\n            https://github.com/login/oauth/authorize?client_id=${clientId}&redirect_uri=https://${originalHostname}/91`,\n      codeInitValue: '',\n      codeReadOnly: false,\n      codeLanguage: 'python',\n      codeTheme: 'vs-dark',\n      lcAccountFormShow: false,\n      supportLanguage: [\n        'java',\n        'c++',\n        'c',\n        'javascript',\n        'php',\n        'python',\n        'rust'\n      ]\n    }\n  },\n\n  methods: {\n    renderDay(time) {\n      const day = getDay(time)\n      if (day <= 0 || day > getDay()) return ''\n      return `Day${day}`\n    },\n    async handleActiveTabChange(v) {\n      this.activeTab = v\n\n      let newurl = ''\n      const searches = new URLSearchParams(new URL(window.location.href).search)\n      searches.set('tab', this.activeTab)\n\n      newurl =\n        window.location.protocol +\n        '//' +\n        window.location.host +\n        window.location.pathname +\n        '?' +\n        searches.toString()\n\n      window.history.pushState({ path: newurl }, '', newurl)\n      if (v === 'top-students') {\n        try {\n          this.fetchingRank = true\n          await getRankings().then(rankings => {\n            this.rankings = rankings\n          })\n        } finally {\n          this.fetchingRank = false\n        }\n      }\n      if (v === 'sign') {\n        await this.getDailyProblem()\n        // 加载评论\n        loadComment({\n          id: String(this.dailyProblem.day),\n          ...this.dailyProblem\n        })\n      }\n      if (v === 'my') {\n        try {\n          this.fetchingPersonalProgress = true\n          await this.getMySolutions()\n        } finally {\n          this.fetchingPersonalProgress = false\n        }\n      }\n      if (v.includes('jy')) {\n        this.fetchingLectures = true\n        const ps = [\n          getIntroLecture(),\n          getBasicLecture(),\n          getTopicLecture(),\n          getAdvanceLecture()\n        ].map((p, i) => {\n          return p.then(data => {\n            this[\n              [\n                'introLectures',\n                'basicLectures',\n                'topicLectures',\n                'advanceLectures'\n              ][i]\n            ] = data.map(q => ({\n              ...q,\n              viewUrl: q.external\n                ? q.externalLink\n                : `/solutionDetail?type=2&id=${q.id}&max_id=${Math.max(\n                    ...data.map(q => q.id)\n                  )}`,\n              external: !!q.external\n            }))\n          })\n        })\n        Promise.allSettled(ps).then(() => (this.fetchingLectures = false))\n      }\n    },\n    getDay,\n    getDifficulty(difficulty) {\n      if (!difficulty) return ''\n      if (difficulty.includes('简单')) return '简单'\n      if (difficulty.includes('中等')) return '中等'\n      if (difficulty.includes('困难')) return '困难'\n      return ''\n    },\n    getDifficultyClass(difficulty) {\n      if (!difficulty) return ''\n      if (difficulty.includes('简单')) return 'easy'\n      if (difficulty.includes('中等')) return 'medium'\n      if (difficulty.includes('困难')) return 'hard'\n      return ''\n    },\n    onSelectedTagChange(e) {\n      this.selectedTag = e.target.value\n    },\n    basicActive() {\n      return new Date().getTime() >= startTime\n    },\n    topicActive() {\n      return new Date().getTime() >= new Date('2021-06-07 16:00:00 GMT')\n    },\n    advanceActive() {\n      return false\n    },\n    getDailyProblem(day) {\n      this.fetchingDailyProblem = true\n      return getDailyProblem(day)\n        .then(dailyProblem => {\n          this.dailyProblem = dailyProblem\n          this.fetchingDailyProblem = false\n          return dailyProblem\n        })\n        .catch(err => {\n          console.log(err)\n          this.fetchingDailyProblem = false\n        })\n    },\n    getMySolutions() {\n      return getMySolutions().then(data => {\n        this.mySolutions = data.filter((_, i) => getDay() >= i + 1)\n        this.allTags = data\n          .map(q => q.tags)\n          .reduce((acc, tags) => {\n            tags.forEach(tag => acc.add(tag))\n            return acc\n          }, new Set(['全部']))\n      })\n    },\n    disabledDate(moment) {\n      const d = getDay(moment.valueOf())\n      console.log(d, moment.valueOf() > new Date().getTime())\n      // 活动开始去除下面注释\n      if (moment.valueOf() > new Date().getTime()) return true\n      return d < 1 || d > 91\n    },\n    hashColor(text) {\n      if (!text) return ''\n      let acc = 0\n      for (const i in text) {\n        acc = (acc + text.charCodeAt(i)) % this.colors.length\n      }\n      return this.colors[acc]\n    },\n    async onDateChanged(v) {\n      await this.getDailyProblem(v.valueOf())\n\n      return loadComment({\n        id: String(this.dailyProblem.day),\n        ...this.dailyProblem\n      })\n    },\n    handlLogoutClick() {\n      logout().then(() => {\n        window.location.href = `https://${originalHostname}/91`\n      })\n    }\n    // submitCode() {\n    //   const { link, title } = this.dailyProblem\n    //   const id = +title.match(/[1-9]+/)[0]\n    //   if (!id) {\n    //     return message.error('当日讲义格式有误，请联系讲师!')\n    //   }\n    //   const slug = link\n    //     .split('/')\n    //     .reverse()\n    //     .find(item => item)\n    //   let needClearLcStorage = false\n    //   request({\n    //     method: 'post',\n    //     url: '/api/v1/lc/submitCode',\n    //     headers: this.getLcRequestHeader(),\n    //     data: {\n    //       link,\n    //       lang: this.codeLanguage,\n    //       id,\n    //       slug,\n    //       code: this.$refs.codeEditor.getEditorValue()\n    //     }\n    //   })\n    //     .then(data => {\n    //       const { submission_id: subMissionId } = data\n    //       if (subMissionId) {\n    //         message.info('题解提交成功')\n    //         this.setLcDataInLs(data)\n    //         // 数据持久化。将当前用户的打卡信息入库\n    //         // TODO: 弹出写题解的弹窗（即使不写题解也算打卡成功）\n    //       } else {\n    //         throw data\n    //       }\n    //     })\n    //     .catch((data = {}) => {\n    //       message.destroy()\n    //       // 如果状态码为403,代表需要用户重新输入一遍账号与密码,这时需要清空一波缓存\n    //       needClearLcStorage = data.code === 403\n    //       message.error(data.message || '题解提交失败')\n    //     })\n    //     .finally(() => {\n    //       // 清空缓存\n    //       if (needClearLcStorage) {\n    //         this.clearLcDataInLs()\n    //       }\n    //       this.lcAccountFormShow = !this.hasLcRequstDataInLs()\n    //     })\n    // }\n    // handleLcAccountLogin(e) {\n    //   e.preventDefault()\n    //   const data = this.form.getFieldsValue()\n    //   let needClearLcStorage = false\n    //   request({\n    //     method: 'post',\n    //     url: '/api/v1/lc/submitLcAccount',\n    //     headers: this.getLcRequestHeader(),\n    //     data\n    //   })\n    //     .then(data => {\n    //       message.info(data.message || '登陆成功')\n    //       this.setLcDataInLs(data)\n    //     })\n    //     .catch((data = {}) => {\n    //       message.destroy()\n    //       message.error(data.message || '登陆失败')\n    //       // 如果状态码为403,代表需要用户重新输入一遍账号与密码,这时需要清空一波cookie\n    //       needClearLcStorage = data.code === 403\n    //     })\n    //     .finally(() => {\n    //       // 清空缓存\n    //       if (needClearLcStorage) {\n    //         this.clearLcDataInLs()\n    //       }\n    //       this.lcAccountFormShow = !this.hasLcRequstDataInLs()\n    //     })\n    // },\n    // getLcRequestHeader(header = {}) {\n    //   const arr = [\n    //     _91UsernameLsName,\n    //     _91PwdLsName,\n    //     lcSeesionCookieName,\n    //     lcCsrftokenCookieName\n    //   ]\n    //   const data = arr.reduce((obj, key) => {\n    //     const val = window.localStorage.getItem(key)\n    //     if (val) {\n    //       obj[key] = val\n    //     }\n    //     return obj\n    //   }, {})\n    //   return Object.assign(header, data)\n    // },\n    // setLcDataInLs(data) {\n    //   lcDataKeys.forEach(key => window.localStorage.setItem(key, data[key]))\n    // },\n    // clearLcDataInLs() {\n    //   lcDataKeys.forEach(key => window.localStorage.removeItem(key))\n    // },\n    // hasLcRequstDataInLs() {\n    //   const requestKeys = [_91UsernameLsName, _91PwdLsName]\n    //   return requestKeys.every(key => window.localStorage.getItem(key))\n    // }\n  },\n  async mounted() {\n    const urlTab = new URLSearchParams(\n      new URL(window.location.href).search\n    ).get('tab')\n\n    this.handleActiveTabChange(urlTab || 'agenda')\n\n    function fallbackMeta() {\n      if (!this.meta.lectures.intro) {\n        this.meta.lectures.intro = {\n          lastUpdateTime: new Date().getTime() - MS_PER_DAY * 30\n        }\n      }\n\n      if (!this.meta.lectures.basic) {\n        this.meta.lectures.basic = {\n          lastUpdateTime: new Date().getTime() - MS_PER_DAY * 30\n        }\n      }\n\n      if (!this.meta.lectures.topic) {\n        this.meta.lectures.topic = {\n          lastUpdateTime: new Date().getTime() - MS_PER_DAY * 30\n        }\n      }\n\n      if (!this.meta.lectures.advance) {\n        this.meta.lectures.advance = {\n          lastUpdateTime: new Date().getTime() - MS_PER_DAY * 30\n        }\n      }\n    }\n\n    fallbackMeta.call(this)\n\n    getMeta().then(data => {\n      this.meta = data\n      fallbackMeta.call(this)\n    })\n\n    try {\n      this.fetchingUserInfo = true\n      const {\n        pay,\n        message,\n        name,\n        login,\n        avatar_url: avatar,\n        leetcodeUsername,\n        noCheck,\n        allCheck\n      } = (await getUserInfo(this.$route.query.code)) || {}\n\n      if (message === 'Bad credentials') {\n        this.errorMessage = '登录已过期，请重新登录~'\n      }\n      this.avatar = avatar\n      this.pay = pay\n      this.name = name || login\n      this.login = login\n      this.noCheck = noCheck\n      this.allCheck = allCheck\n      this.leetcodeUsername = leetcodeUsername || ''\n      this.contestRankings = (contests[this.leetcodeUsername] || []).filter(\n        res => res && res.score > 0\n      )\n      this.isTestUse = this.$route.query.isTest\n\n      // this.lcAccountFormShow = !this.hasLcRequstDataInLs()\n    } finally {\n      this.fetchingUserInfo = false\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.m-top-bottom-sm {\n  margin: 10px 0;\n}\n.align-r {\n  text-align: right;\n}\n.align-l {\n  text-align: left;\n}\n.align-c {\n  text-align: center;\n}\n.easy {\n  color: green;\n}\n.medium {\n  color: orange;\n}\n.hard {\n  color: red;\n}\n.my-solution {\n  text-align: right;\n  margin: 10px 0;\n}\n.timeline {\n  margin: 0 auto;\n  // width: 400px;\n}\n\n.more {\n  display: flex;\n  justify-content: flex-end;\n  width: 200px;\n  span {\n    height: 24px;\n    line-height: 24px;\n  }\n}\n.time {\n  font-size: 24px;\n  color: #00a6dd;\n}\n.icon {\n  display: inline-block;\n  margin: 0 10px;\n}\n.teachers,\n.students {\n  margin: 20px auto;\n}\n.hello {\n  margin: 10px auto;\n}\n\n.code-btns {\n  display: flex;\n  justify-content: space-between;\n  margin: 10px 0px;\n}\n.code-panel {\n  margin-bottom: 20px;\n  border-radius: 6px;\n  overflow: hidden;\n}\n</style>\n"]}]}